(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d659"],{"386d":function(t,e,s){s("214f")("search",1,function(t,e,s){return[function(s){"use strict";var a=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,a):new RegExp(s)[e](String(a))},s]})},"7fc2":function(t,e,s){"use strict";var a=s("c1fc"),n=s.n(a);n.a},b635:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout-program"},[s("div",{staticClass:"layout-program-search"},[s("Form",{attrs:{model:t.search,"label-position":"right",inline:""}},[s("FormItem",{attrs:{label:"节目名称:","label-width":70}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入节目名称..."},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),s("FormItem",{attrs:{label:"所属分类:","label-width":70}},[s("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择所属分类..."},model:{value:t.search.category_id,callback:function(e){t.$set(t.search,"category_id",e)},expression:"search.category_id"}},t._l(t.Taxonomy,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),s("FormItem",{attrs:{label:"状态:","label-width":50}},[s("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态..."},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[s("Option",{attrs:{value:""}},[t._v("全部")]),s("Option",{attrs:{value:2}},[t._v("下线")]),s("Option",{attrs:{value:1}},[t._v("上线")])],1)],1),s("FormItem",{attrs:{label:"付费方式:","label-width":70}},[s("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择付费方式..."},model:{value:t.search.cost_type,callback:function(e){t.$set(t.search,"cost_type",e)},expression:"search.cost_type"}},[s("Option",{attrs:{value:""}},[t._v("全部")]),s("Option",{attrs:{value:0}},[t._v("免费")]),s("Option",{attrs:{value:1}},[t._v("会员")]),s("Option",{attrs:{value:2}},[t._v("单片购买")])],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(e){t.query()}}},[t._v("搜索")])],1)],1)],1),s("div",{staticClass:"layout-program-table"},[s("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),s("div",{staticClass:"layout-program-page"},[s("Page",{attrs:{total:t.total1,current:t.page1,"page-size":t.pageSize1,"show-elevator":""},on:{"on-change":t.changePage1}})],1),s("div",[s("Modal",{attrs:{title:"修改"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[s("div",{attrs:{slot:"footer"},slot:"footer"},[s("a",{staticClass:"span",on:{click:function(e){t.modalEdit=!1}}},[t._v("取消")]),s("Button",{attrs:{type:"primary"},on:{click:t.editOk}},[t._v("确定")])],1),s("Form",{ref:"edit",attrs:{model:t.edit,"label-position":"right","label-width":100,rules:t.ruleValidate}},[s("FormItem",{attrs:{label:"节目名称:",prop:"title"}},[s("Input",{model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}})],1),s("FormItem",{attrs:{label:"专辑短标题:"}},[s("Input",{model:{value:t.edit.short_title,callback:function(e){t.$set(t.edit,"short_title",e)},expression:"edit.short_title"}})],1),s("FormItem",{attrs:{label:"是否用于学习机:"}},[s("RadioGroup",{model:{value:t.edit.child_usage,callback:function(e){t.$set(t.edit,"child_usage",e)},expression:"edit.child_usage"}},[s("Radio",{attrs:{label:0}},[t._v("否")]),s("Radio",{attrs:{label:1}},[t._v("是")])],1)],1),s("FormItem",{attrs:{label:"评分:",prop:"score"}},[s("Input",{model:{value:t.edit.score,callback:function(e){t.$set(t.edit,"score",e)},expression:"edit.score"}})],1),s("FormItem",{attrs:{label:"标签:",prop:"tag_names"}},[s("Input",{model:{value:t.edit.tag_names,callback:function(e){t.$set(t.edit,"tag_names",e)},expression:"edit.tag_names"}})],1),s("FormItem",{attrs:{label:"地区:"}},[s("Input",{model:{value:t.edit.region,callback:function(e){t.$set(t.edit,"region",e)},expression:"edit.region"}})],1),s("FormItem",{attrs:{label:"类型:"}},[s("Input",{model:{value:t.edit.theme,callback:function(e){t.$set(t.edit,"theme",e)},expression:"edit.theme"}})],1),s("FormItem",{attrs:{label:"排序得分:"}},[s("Input",{model:{value:t.edit.rank_score,callback:function(e){t.$set(t.edit,"rank_score",e)},expression:"edit.rank_score"}})],1),s("FormItem",{attrs:{label:"短语:"}},[s("Input",{model:{value:t.edit.short_comment,callback:function(e){t.$set(t.edit,"short_comment",e)},expression:"edit.short_comment"}})],1),s("FormItem",{attrs:{label:"豆瓣评分:"}},[s("Input",{model:{value:t.edit.douban_score,callback:function(e){t.$set(t.edit,"douban_score",e)},expression:"edit.douban_score"}})],1),s("FormItem",{attrs:{label:"热度:"}},[s("Input",{model:{value:t.edit.heat,callback:function(e){t.$set(t.edit,"heat",e)},expression:"edit.heat"}})],1),s("FormItem",{attrs:{label:"关键字:"}},[s("Input",{model:{value:t.edit.keywords,callback:function(e){t.$set(t.edit,"keywords",e)},expression:"edit.keywords"}})],1),s("FormItem",{attrs:{label:"自有标签:"}},[s("Input",{model:{value:t.edit.xstv_tags,callback:function(e){t.$set(t.edit,"xstv_tags",e)},expression:"edit.xstv_tags"}})],1),s("FormItem",{attrs:{label:"描述:"}},[s("Input",{attrs:{type:"textarea",rows:4},model:{value:t.edit.desc,callback:function(e){t.$set(t.edit,"desc",e)},expression:"edit.desc"}})],1)],1)],1)],1),s("div",[s("Modal",{attrs:{title:"查看详情",width:"800"},model:{value:t.modalInfo,callback:function(e){t.modalInfo=e},expression:"modalInfo"}},[s("Form",{attrs:{model:t.news,"label-position":"right","label-width":100,inline:""}},[s("Row",[s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            节目id:"+t._s(t.news.id)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            资源提供方名称:"+t._s(t.news.cp_name)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            父ID:"+t._s(t.news.parrent_id)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            分类名称:"+t._s(t.news.channel_name)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            是否用于学习机:"+t._s(t.news.is_child_usage)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            节目状态:"+t._s(t.news.status)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            节目名称:"+t._s(t.news.title)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            专辑短标题:"+t._s(t.news.short_title)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            上映年代:"+t._s(t.news.release_year)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            评分:"+t._s(t.news.score)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            评分来源:"+t._s(t.news.scored_by)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            总集数:"+t._s(t.news.total_episodes)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            已上线数量:"+t._s(t.news.curr_count)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            制片人姓名列表:"+t._s(t.news.makers)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            导演列表:"+t._s(t.news.directors)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            主演列表:"+t._s(t.news.main_actors)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            演员列表:"+t._s(t.news.actors)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            会员:"+t._s(t.news.is_vip)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            单片付费:"+t._s(t.news.is_tvod)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            点播视频:"+t._s(t.news.origin_price)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            地区:"+t._s(t.news.region)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            类型:"+t._s(t.news.theme)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            人员名字:"+t._s(t.news.persons)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            排序得分:"+t._s(t.news.rank_score)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            评论:"+t._s(t.news.comment)+"\n          ")])]),s("Col",{attrs:{span:"8"}},[s("p",[t._v("\n            短语:"+t._s(t.news.short_comment)+"\n          ")])]),s("Col",{attrs:{span:"6"}},[s("p",[t._v("\n            豆瓣评分:"+t._s(t.news.douban_score)+"\n          ")])]),s("Col",{attrs:{span:"6"}},[s("p",[t._v("\n            热度:"+t._s(t.news.heat)+"\n          ")])]),s("Col",{attrs:{span:"6"}},[s("p",[t._v("\n            关键字:"+t._s(t.news.keywords)+"\n          ")])]),s("Col",{attrs:{span:"6"}},[s("p",[t._v("\n            自有标签:"+t._s(t.news.xstv_tags)+"\n          ")])]),s("Col",{attrs:{span:"24"}},[s("p",[t._v("\n            单集标题:"+t._s(t.news.episode_title)+"\n          ")])]),s("Col",{attrs:{span:"10"}},[s("p",[t._v("\n            标签:"+t._s(t.news.tag_names)+"\n          ")])]),s("Col",{attrs:{span:"24"}},[s("p",[t._v("\n            专辑图片:\n            "),s("img",{staticStyle:{width:"50px"},attrs:{src:t.news.channel_img,alt:""}})])]),s("Col",{attrs:{span:"24"}},[s("p",[t._v("\n            描述:"+t._s(t.news.desc)+"\n          ")])])],1)],1)],1)],1),s("Modal",{attrs:{title:"查看子集",width:"1200"},model:{value:t.modalSee,callback:function(e){t.modalSee=e},expression:"modalSee"}},[s("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}}),s("div",{staticClass:"layout-program-page"},[s("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),s("div",{staticStyle:{clear:"both"}})],1)],1)},n=[],i=(s("ac6a"),s("7f7f"),s("386d"),{data:function(){var t=this;return{search:{name:"",category_id:1,is_vip:"",status:""},Taxonomy:[],edit:{episode_subtitle:"",keywords:"",heat:"",xstv_poster:"",xstv_tags:"",comment:""},modalEdit:!1,total:0,page:1,pageSize:30,total1:0,page1:1,pageSize1:30,news:{},modalInfo:!1,parrentId:[],modalSee:!1,ruleValidate:{title:[{required:!0,message:"请输入节目名称",trigger:"blur"}],score:[{required:!0,message:"请输入评分",trigger:"blur",type:"number"}],tag_names:[{required:!0,message:"请输入标签",trigger:"blur"}]},columns1:[{type:"index",width:70,title:"序号",align:"center"},{title:"节目名称",key:"title",width:270,align:"center"},{title:"分类名称",key:"channel_name",align:"center"},{title:"节目状态",key:"Isstatus",align:"center"},{title:"评分",key:"score",align:"center"},{title:"付款方式",key:"Isis_vip",align:"center"},{title:"上映年代",key:"release_year",align:"center"},{title:"操作",align:"center",width:280,render:function(e,s){return e("div",[e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.info(s.index)}}},"查看详情"),e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.seeInfo(s.row)}}},"查看子集"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(s.row)}}},"修改")])}}],data1:[],columns2:[{type:"index",width:70,title:"序号",align:"center"},{title:"节目名称",key:"title",width:270,align:"center"},{title:"分类名称",key:"channel_name",align:"center"},{title:"子集名称",key:"episode_title",align:"center"},{title:"节目状态",key:"Isstatus",align:"center"},{title:"评分",key:"score",align:"center"},{title:"付款方式",key:"Isis_vip",align:"center"},{title:"上映年代",key:"release_year",align:"center"}],data2:[]}},methods:{getTableList:function(){var t=this,e=this;void 0==this.search.cost_type&&(this.search.cost_type=""),void 0==this.search.status&&(this.search.status=""),e.$http(this.$config.BaseURL4+"/program/list?count="+e.pageSize1+"&page="+e.page1+"&name="+e.search.name+"&category_id="+e.search.category_id+"&cost_type="+e.search.cost_type+"&status="+e.search.status).then(function(s){1e4==s.data.errno&&(console.log(s),t.data1=s.data.data.list,s.data.data.list.forEach(function(t){1==t.status?t.Isstatus="上线":2==t.status&&(t.Isstatus="下线"),0==t.is_vip?t.Isis_vip="免费":1==t.is_vip?t.Isis_vip="会员":2==t.is_vip&&(t.Isis_vip="单片购买")}),e.total1=s.data.data.total)})},info:function(t){this.modalInfo=!0,this.news=this.data1[t],console.log(this.news),0==this.news.is_vip?this.news.is_vip="免费":1==this.news.is_vip?this.news.is_vip="会员":2==this.news.is_vip&&(this.news.is_vip="单片购买"),1==this.news.status?this.news.status="上线":2==this.news.status&&(this.news.status="下线"),0==this.news.child_usage?this.news.is_child_usage="否":1==this.news.child_usage&&(this.news.is_child_usage="是")},getSelectList:function(){var t=this;t.$http(this.$config.BaseURL1+"/media/category/list").then(function(e){t.Taxonomy=e.data.data.list||[],t.Taxonomy1=e.data.data.list||[]})},seeInfo:function(t){this.modalSee=!0,console.log(t),this.parrentId=t.parrent_id,this.getContenList()},getContenList:function(){var t=this;t.$http(this.$config.BaseURL4+"/program/list?parrent_id="+t.parrentId+"&page="+t.page+"&count="+t.pageSize+"&category_id="+t.search.category_id).then(function(e){1e4==e.data.errno&&(console.log(e),t.data2=e.data.data.list,e.data.data.list.forEach(function(t){1==t.status?t.Isstatus="上线":2==t.status&&(t.Isstatus="下线"),0==t.is_vip?t.Isis_vip="免费":1==t.is_vip?t.Isis_vip="会员":2==t.is_vip&&(t.Isis_vip="单片购买")}),t.total=e.data.data.total)},function(t){})},modify:function(t){this.modalEdit=!0,this.edit=t,console.log(t)},editOk:function(){var t=this,e=this,s=!0;e.edit.heat=e.edit.heat+"",e.$refs["edit"].validate(function(e){0==e&&(t.$Message.error("表单输入有误,请检查!"),s=!1)}),0!=s&&e.$http.post(this.$config.BaseURL4+"/program/edit",e.edit).then(function(e){1e4==e.data.errno&&(t.edit={},t.modalEdit=!1,t.getTableList(),t.$Message.success("修改成功!"))})},changePage:function(t){this.page=t,this.getContenList()},changePage1:function(t){this.page1=t,this.getTableList()},query:function(){this.page1=1,this.getTableList()}},mounted:function(){this.getTableList(),this.getSelectList()}}),o=i,l=(s("7fc2"),s("2877")),r=Object(l["a"])(o,a,n,!1,null,null,null);r.options.__file="program.vue";e["default"]=r.exports},c1fc:function(t,e,s){}}]);