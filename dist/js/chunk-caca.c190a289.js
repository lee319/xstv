(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-caca"],{"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var s=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,s):new RegExp(a)[e](String(s))},a]})},"47fc":function(t,e,a){"use strict";var s=a("e10e"),i=a.n(s);i.a},cb77:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-order"},[a("div",{staticClass:"layout-order-search"},[a("Form",{attrs:{model:t.search,"label-position":"right",inline:""}},[a("FormItem",{attrs:{label:"用户ID:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户ID..."},model:{value:t.search.userId,callback:function(e){t.$set(t.search,"userId",e)},expression:"search.userId"}})],1),a("FormItem",{attrs:{label:"订单号:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号..."},model:{value:t.search.orderId,callback:function(e){t.$set(t.search,"orderId",e)},expression:"search.orderId"}})],1),a("FormItem",{attrs:{label:"支付状态:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},attrs:{"aria-placeholder":"请选择支付状态..."},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("未支付")]),a("Option",{attrs:{value:2}},[t._v("已支付")])],1)],1),a("FormItem",{attrs:{label:"创建时间:","label-width":70}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetimerange",placement:"bottom-end",placeholder:"请选择请求时间..."},model:{value:t.timer,callback:function(e){t.timer=e},expression:"timer"}})],1),a("FormItem",{attrs:{label:"用户昵称:","label-width":70}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户昵称..."},model:{value:t.search.nickname,callback:function(e){t.$set(t.search,"nickname",e)},expression:"search.nickname"}})],1),a("FormItem",{attrs:{label:"商品名称:","label-width":70}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称..."},model:{value:t.search.goodsName,callback:function(e){t.$set(t.search,"goodsName",e)},expression:"search.goodsName"}})],1),a("FormItem",{attrs:{label:"商品类型:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择商品类型..."},model:{value:t.search.goodsClass,callback:function(e){t.$set(t.search,"goodsClass",e)},expression:"search.goodsClass"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("点播视频")]),a("Option",{attrs:{value:2}},[t._v("奇异果影视会员")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.query()}}},[t._v("搜索")])],1),a("FormItem",{attrs:{"label-width":95}},[a("Button",{attrs:{type:"success"},on:{click:t.downloadExcel}},[t._v("导出excel")])],1),a("FormItem")],1)],1),a("div",{staticClass:"layout-order-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-order-info"},[a("Modal",{attrs:{title:"订单详情",width:"700"},model:{value:t.modalInfo,callback:function(e){t.modalInfo=e},expression:"modalInfo"}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    ID:"+t._s(t.details.id)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    订单号:"+t._s(t.details.orderId)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    商品类型:"+t._s(t.details.goodsClass)+"\n                ")])]),a("Col",{directives:[{name:"show",rawName:"v-show",value:""!=t.details.contentId,expression:"true ? details.contentId != '' : details.contentId == ''"}],attrs:{span:"12"}},[a("p",[t._v("\n                    单片ID:"+t._s(t.details.contentId)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    商品名称:"+t._s(t.details.goodsName)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    用户ID:"+t._s(t.details.userId)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    用户昵称:"+t._s(t.details.nickname)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    原价(元):"+t._s(t.details.orgPrice)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    支付金额(元):"+t._s(t.details.price)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    购买渠道:\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    创建时间:"+t._s(t.details.IscreateTime)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    支付状态:"+t._s(t.details.Isstatus)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    付款方式:"+t._s(t.details.paymentMethod)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    使用终端mac:"+t._s(t.details.mac)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    支付流水号:"+t._s(t.details.transactionId)+"\n                ")])]),a("Col",{attrs:{span:"12"}},[1!=t.details.status?a("p",[t._v("\n                    付款时间:"+t._s(t.details.IspayTime)+"\n                ")]):t._e()]),a("Col",{attrs:{span:"12"}},[a("p",[t._v("\n                    同步爱奇艺状态:"+t._s(t.details.state)+"\n                ")])])],1)],1)],1),a("div",{staticClass:"layout-order-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1)])},i=[],r=(a("ac6a"),a("386d"),a("c1df")),n={data:function(){var t=this;return{search:{userId:"",orderId:"",status:"",createTimeStart:"",createTimeEnd:"",nickname:"",goodsName:"",goodsClass:""},timer:[],modalInfo:!1,details:{},pageSize:30,page:1,total:0,columns1:[{title:"订单号",key:"orderId",align:"center"},{title:"商品类型",key:"goodsClass",align:"center"},{title:"商品名称",key:"goodsName",align:"center"},{title:"用户ID",key:"userId",align:"center"},{title:"用户昵称",key:"nickname",align:"center"},{title:"支付金额",key:"price",align:"center"},{title:"支付状态",key:"Isstatus",align:"center"},{title:"付款方式",key:"Ispayment",align:"center"},{title:"同步状态",key:"state",align:"center"},{title:"创建时间",key:"IscreateTime",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.info(a.row)}}},"详情")])}}],data1:[]}},methods:{getTableList:function(){var t=this,e=this,a=r(e.timer[0]).format("X"),s=r(e.timer[1]).format("X");void 0==this.search.status&&(this.search.status=""),isNaN(a)&&(a=""),isNaN(s)&&(s=""),e.$http(this.$config.BaseURL10+"/order/list?userId="+e.search.userId+"&orderId="+e.search.orderId+"&status="+e.search.status+"&nickname="+e.search.nickname+"&goodsName="+e.search.goodsName+"&goodsClass="+e.search.goodsClass+"&page="+e.page+"&pageSize="+e.pageSize+"&createTimeStart="+a+"&createTimeEnd="+s).then(function(e){console.log(e),1e4==e.data.errno&&(t.data1=e.data.data.list,t.total=e.data.data.total,e.data.data.list.forEach(function(t){1==t.status?t.Isstatus="未支付":2==t.status?t.Isstatus="已支付":3==t.status&&(t.Isstatus="支付失败"),1==t.payment&&(t.Ispayment="微信"),1==t.iqiyiStatus?t.state="未同步":2==t.iqiyiStatus?t.state="同步中":3==t.iqiyiStatus?t.state="完成同步":4==t.iqiyiStatus&&(t.state="同步失败"),t.IscreateTime=r(1e3*t.createTime).format("YYYY-MM-DD HH:mm:ss")}))})},changePage:function(t){this.page=t,this.getTableList()},query:function(){this.page=1,this.getTableList()},downloadExcel:function(){var t=this,e=r(t.timer[0]).format("X"),a=r(t.timer[1]).format("X");void 0==this.search.status&&(this.search.status=""),isNaN(e)&&(e=""),isNaN(a)&&(a=""),window.open(this.$config.BaseURL10+"/order/export?userId="+t.search.userId+"&orderId="+t.search.orderId+"&search.status="+t.search.status+"&nickname="+t.search.nickname+"&search.goodsName="+t.search.goodsName+"&goodsClass="+t.search.goodsClass+"&createTimeStart="+e+"&createTimeEnd="+a,"_blank")},info:function(t){console.log(t),this.details=t,this.modalInfo=!0,1==t.status?t.Isstatus="未支付":2==t.status?t.Isstatus="已支付":3==t.status&&(t.Isstatus="支付失败"),t.IscreateTime=r(1e3*t.createTime).format("YYYY-MM-DD HH:mm:ss"),t.IspayTime=r(1e3*t.payTime).format("YYYY-MM-DD HH:mm:ss"),1==t.payment&&(t.paymentMethod="微信"),1==t.iqiyiStatus?t.state="未同步":2==t.iqiyiStatus?t.state="同步中":3==t.iqiyiStatus?t.state="完成同步":4==t.iqiyiStatus&&(t.state="同步失败")}},mounted:function(){this.getTableList()}},o=n,l=(a("47fc"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,null,null);c.options.__file="order.vue";e["default"]=c.exports},e10e:function(t,e,a){}}]);