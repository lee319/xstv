(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3681"],{"0102":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-statis"},[a("div",{staticClass:"layout-statis-search"},[a("Form",{attrs:{model:t.search,inline:""}},[a("FormItem",{attrs:{label:"用户ID:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户ID..."},model:{value:t.search.userId,callback:function(e){t.$set(t.search,"userId",e)},expression:"search.userId"}})],1),a("FormItem",{attrs:{label:"首次会员时间:","label-width":90}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",placeholder:"请选择首次会员时间..."},model:{value:t.timer,callback:function(e){t.timer=e},expression:"timer"}})],1),a("FormItem",{attrs:{label:"会员状态:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择会员状态..."},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("正常")]),a("Option",{attrs:{value:2}},[t._v("过期")])],1)],1),a("FormItem",{attrs:{label:"用户昵称:","label-width":70}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户昵称..."},model:{value:t.search.nickname,callback:function(e){t.$set(t.search,"nickname",e)},expression:"search.nickname"}})],1),a("FormItem",{attrs:{label:"会员过期时间:","label-width":90}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetimerange",placeholder:"请选择首次会员时间..."},model:{value:t.timer1,callback:function(e){t.timer1=e},expression:"timer1"}})],1),a("FormItem",{attrs:{label:"手机号:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入手机号..."},model:{value:t.search.mobile,callback:function(e){t.$set(t.search,"mobile",e)},expression:"search.mobile"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-statis-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-statis-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("Modal",{attrs:{title:"会员信息详情",width:"1000"},model:{value:t.modalInfo,callback:function(e){t.modalInfo=e},expression:"modalInfo"}},[a("div",{staticClass:"layout-statis-info"},[a("Row",[a("Col",{attrs:{span:"6"}},[t._v("用户ID："+t._s(t.news.userId))]),a("Col",{attrs:{span:"6"}},[t._v("用户昵称："+t._s(t.news.nickname))]),a("Col",{attrs:{span:"6"}},[t._v("手机号："+t._s(t.news.mobile))]),a("Col",{attrs:{span:"6"}},[t._v("会员状态："+t._s(t.news.is_status))]),a("Col",{attrs:{span:"8"}},[t._v("首次会员时间："+t._s(t.news.is_firstMemberTime))]),a("Col",{attrs:{span:"8"}},[t._v("会员过期时间："+t._s(t.news.is_expire))]),a("Col",{attrs:{span:"8"}},[t._v("复购次数："+t._s(t.news.repeatTimes))])],1)],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}})],1)])],1)},i=[],r=(a("ac6a"),a("386d"),a("c1df")),n={data:function(){var t=this;return{search:{memberStratTime:"",memberEndTime:"",nickname:"",status:"",userId:"",expireStratTime:"",expireEndTime:"",mobile:""},timer:[],timer1:[],pageSize:30,page:1,total:0,news:{},modalInfo:!1,userId:"",columns1:[{type:"index",width:70,title:"序号",align:"center"},{title:"用户ID",key:"userId",align:"center"},{title:"用户昵称",key:"nickname",align:"center"},{title:"首次会员时间",key:"is_firstMemberTime",align:"center"},{title:"会员状态",key:"is_status",align:"center"},{title:"复购次数",key:"repeatTimes",align:"center"},{title:"会员过期时间",key:"is_expire",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.info(a.row)}}},"详情")])}}],data1:[],columns2:[{type:"index",width:70,title:"序号",align:"center"},{title:"订单号",key:"orderId",align:"center"},{title:"商品名称",key:"goodsName",align:"center"},{title:"支付金额",key:"price",align:"center"},{title:"订单支付时间",key:"is_payTime",align:"center"},{title:"会员过期时间",key:"is_expire",align:"center"}],data2:[]}},methods:{getTableList:function(){var t=this,e=r(this.timer[0]).format("X"),a=r(this.timer[1]).format("X"),s=r(this.timer1[0]).format("X"),i=r(this.timer1[1]).format("X");void 0==this.search.status&&(this.search.status=""),isNaN(e)&&(e=""),isNaN(a)&&(a=""),isNaN(s)&&(s=""),isNaN(i)&&(i=""),this.$http.get(this.$config.BaseURL10+"/member/statis?page="+this.page+"&pageSize="+this.pageSize+"&memberEndTime="+a+"&memberStratTime="+e+"&userId="+this.search.userId+"&status="+this.search.status+"&nickname="+this.search.nickname+"&expireStratTime="+s+"&expireEndTime="+i+"&mobile="+this.search.mobile).then(function(e){console.log(e),1e4==e.data.errno&&(t.data1=e.data.data.list,t.total=e.data.data.total,e.data.data.list.forEach(function(t){1==t.status?t.is_status="正常":2==t.status&&(t.is_status="过期"),t.is_firstMemberTime=r(1e3*t.firstMemberTime).format("YYYY-MM-DD HH:mm:ss"),t.is_expire=r(1e3*t.expire).format("YYYY-MM-DD HH:mm:ss")}))})},query:function(){this.page=1,this.getTableList()},changePage:function(t){this.page=t,this.getTableList()},info:function(t){console.log(t),this.userId=t.userId,this.news=t,1==t.status?t.is_status="正常":2==t.status&&(t.is_status="过期"),t.is_firstMemberTime=r(1e3*t.firstMemberTime).format("YYYY-MM-DD HH:mm:ss"),t.is_expire=r(1e3*t.expire).format("YYYY-MM-DD HH:mm:ss"),this.getInfoTableList(),this.modalInfo=!0},getInfoTableList:function(){var t=this;this.$http.get(this.$config.BaseURL10+"/member/statisinfo?userId="+this.userId).then(function(e){1e4==e.data.errno&&(t.data2=e.data.data.list,e.data.data.list.forEach(function(t){t.is_payTime=r(1e3*t.payTime).format("YYYY-MM-DD HH:mm:ss"),t.is_expire=r(1e3*t.expire).format("YYYY-MM-DD HH:mm:ss")}))})}},mounted:function(){this.getTableList()}},l=n,o=(a("4997"),a("2877")),c=Object(o["a"])(l,s,i,!1,null,null,null);c.options.__file="statis.vue";e["default"]=c.exports},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var s=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,s):new RegExp(a)[e](String(s))},a]})},4997:function(t,e,a){"use strict";var s=a("6ddf"),i=a.n(s);i.a},"6ddf":function(t,e,a){}}]);