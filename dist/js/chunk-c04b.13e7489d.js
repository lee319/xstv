(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c04b"],{2401:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-abnormal"},[a("div",{staticClass:"layout-abnormal-search"},[a("Form",{attrs:{model:t.search,"label-position":"right",inline:""}},[a("FormItem",{attrs:{label:"mac:","label-width":40}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入mac..."},model:{value:t.search.mac,callback:function(e){t.$set(t.search,"mac",e)},expression:"search.mac"}})],1),a("FormItem",{attrs:{label:"整机sn:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入整机sn..."},model:{value:t.search.completeMachineSn,callback:function(e){t.$set(t.search,"completeMachineSn",e)},expression:"search.completeMachineSn"}})],1),a("FormItem",{attrs:{label:"cpuid:","label-width":50}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入cpuid..."},model:{value:t.search.cpuId,callback:function(e){t.$set(t.search,"cpuId",e)},expression:"search.cpuId"}})],1),a("FormItem",{attrs:{label:"板卡sn:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入板卡sn..."},model:{value:t.search.boardCardSn,callback:function(e){t.$set(t.search,"boardCardSn",e)},expression:"search.boardCardSn"}})],1),a("FormItem",{attrs:{label:"终端厂商:","label-width":80}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择终端厂商..."},model:{value:t.search.customerId,callback:function(e){t.$set(t.search,"customerId",e)},expression:"search.customerId"}},t._l(t.cityList,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.customerName))])}))],1),a("FormItem",{attrs:{label:"商用型号:","label-width":65}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择商用型号..."},model:{value:t.search.commercialId,callback:function(e){t.$set(t.search,"commercialId",e)},expression:"search.commercialId"}},t._l(t.cityList1,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.commercialName))])}))],1),a("FormItem",{attrs:{label:"内部型号:","label-width":80}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择内部型号..."},model:{value:t.search.insideId,callback:function(e){t.$set(t.search,"insideId",e)},expression:"search.insideId"}},t._l(t.cityList2,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.insideName))])}))],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.query()}}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-abnormal-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-abnormal-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("div",{staticClass:"layout-abnormal-edit"},[a("Modal",{attrs:{title:"变更"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:t.modalEditBtn}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.editOk}},[t._v("变更")])],1),a("Form",{attrs:{model:t.edit,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"cpuid"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.cpuId,callback:function(e){t.$set(t.edit,"cpuId",e)},expression:"edit.cpuId"}})],1),a("FormItem",{attrs:{label:"商用型号:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.commercialId,callback:function(e){t.$set(t.edit,"commercialId",e)},expression:"edit.commercialId"}})],1),a("FormItem",{attrs:{label:"mac:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.mac,callback:function(e){t.$set(t.edit,"mac",e)},expression:"edit.mac"}})],1),a("FormItem",{attrs:{label:"无线mac:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.wirelessMac,callback:function(e){t.$set(t.edit,"wirelessMac",e)},expression:"edit.wirelessMac"}})],1),a("FormItem",{attrs:{label:"板卡sn:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.boardCardSn,callback:function(e){t.$set(t.edit,"boardCardSn",e)},expression:"edit.boardCardSn"}})],1),a("FormItem",{attrs:{label:"整机sn:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.completeMachineSn,callback:function(e){t.$set(t.edit,"completeMachineSn",e)},expression:"edit.completeMachineSn"}})],1),a("FormItem",{attrs:{label:"内部型号:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.insideId,callback:function(e){t.$set(t.edit,"insideId",e)},expression:"edit.insideId"}})],1),a("FormItem",{attrs:{label:"异常原因:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.abnormalReason,callback:function(e){t.$set(t.edit,"abnormalReason",e)},expression:"edit.abnormalReason"}})],1),a("FormItem",{attrs:{label:"上报mac:"}},[a("Input",{attrs:{disabled:""},model:{value:t.EditList.mac,callback:function(e){t.$set(t.EditList,"mac",e)},expression:"EditList.mac"}})],1),a("FormItem",{attrs:{label:"上报无线mac:"}},[a("Input",{attrs:{disabled:""},model:{value:t.EditList.wirelessMac,callback:function(e){t.$set(t.EditList,"wirelessMac",e)},expression:"EditList.wirelessMac"}})],1),a("FormItem",{attrs:{label:"上报板卡sn:"}},[a("Input",{attrs:{disabled:""},model:{value:t.EditList.boardCardSn,callback:function(e){t.$set(t.EditList,"boardCardSn",e)},expression:"EditList.boardCardSn"}})],1),a("FormItem",{attrs:{label:"上报整机sn:"}},[a("Input",{attrs:{disabled:""},model:{value:t.EditList.completeMachineSn,callback:function(e){t.$set(t.EditList,"completeMachineSn",e)},expression:"EditList.completeMachineSn"}})],1)],1)],1)],1)])},s=[],l=(a("386d"),{data:function(){var t=this;return{search:{customerId:"",insideId:"",commercialId:"",completeMachineSn:"",boardCardSn:"",cpuId:"",mac:""},cityList:[],cityList1:[],cityList2:[],edit:{},modalEdit:!1,page:1,pageSize:30,total:0,cpuListId:"",EditList:[],columns1:[{type:"index",width:70,align:"center",title:"序号"},{title:"mac",key:"mac",align:"center",width:120},{title:"cpuid",key:"cpuId",align:"center",width:170},{title:"板卡sn",key:"boardCardSn",align:"center",width:130},{title:"整机sn",key:"completeMachineSn",align:"center"},{title:"内部型号",key:"insideName",align:"center"},{title:"商用型号",key:"commercialName",align:"center"},{title:"终端厂商",key:"customerName",align:"center"},{title:"异常原因",key:"abnormalReason",align:"center"},{title:"最后上报时间",key:"lastVisitTime",align:"center",width:170},{title:"操作",width:160,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"变更"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){t.remove(a.row)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{getTableList:function(){var t=this;t.$http(this.$config.BaseURL2+"/tv/abnormal/list?mac="+t.search.mac+"&cpuId="+t.search.cpuId+"&boardCardSn="+t.search.boardCardSn+"&completeMachineSn="+t.search.completeMachineSn+"&commercialId="+t.search.commercialId+"&insideId="+t.search.insideId+"&customerId="+t.search.customerId+"&page="+t.page+"&pageSize="+t.pageSize).then(function(e){1e4==e.data.errno&&(console.log(e),t.data1=e.data.data.list,t.total=e.data.data.total)},function(t){})},getSelect:function(){var t=this,e=this;e.$http(this.$config.BaseURL2+"/tv/customer/list").then(function(e){1e4==e.data.errno&&(console.log(e),t.cityList=e.data.data.list)},function(t){})},getSelect1:function(){var t=this,e=this;e.$http(this.$config.BaseURL2+"/tv/commercialmodel/list").then(function(e){1e4==e.data.errno&&(console.log(e),t.cityList1=e.data.data.list)},function(t){})},getSelect2:function(){var t=this;t.$http(this.$config.BaseURL2+"/tv/insidemodel/list").then(function(e){1e4==e.data.errno&&(t.cityList2=e.data.data.list)},function(t){})},query:function(){this.page=1,this.getTableList()},changePage:function(t){this.page=t,this.getTableList()},modify:function(t){var e=this;console.log(t);var a=this;this.cpuListId=t.cpuId,a.$http(this.$config.BaseURL2+"/tv/device/list?cpuId="+t.cpuId).then(function(t){1e4==t.data.errno&&(console.log(t),e.edit=t.data.data.list[0])},function(t){}),this.EditList=t,this.modalEdit=!0},editOk:function(){var t=this,e=this;e.$http.post(this.$config.BaseURL2+"/tv/abnormal/change?cpuId="+this.cpuListId,e.edit).then(function(e){1e4==e.data.errno&&(t.modalEdit=!1,t.getTableList(),t.$Message.success("变更成功！"))},function(t){return[]})},modalEditBtn:function(){this.modalEdit=!1,this.getTableList()},remove:function(t){var e=this,a=this;a.$http(this.$config.BaseURL2+"/tv/abnormal/del?_id="+t._id).then(function(t){1e4==t.data.errno&&(e.getTableList(),e.$Message.success("删除成功！"))},function(t){})}},mounted:function(){this.getTableList(),this.getSelect(),this.getSelect1(),this.getSelect2()}}),n=l,c=(a("6e83"),a("2877")),o=Object(c["a"])(n,i,s,!1,null,null,null);o.options.__file="abnormal.vue";e["default"]=o.exports},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var i=t(this),s=void 0==a?void 0:a[e];return void 0!==s?s.call(a,i):new RegExp(a)[e](String(i))},a]})},5756:function(t,e,a){},"6e83":function(t,e,a){"use strict";var i=a("5756"),s=a.n(i);s.a}}]);