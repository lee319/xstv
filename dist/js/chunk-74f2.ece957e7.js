(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74f2"],{"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var i=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,i):new RegExp(a)[e](String(i))},a]})},6675:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-series"},[a("div",{staticClass:"layout-series-search"},[a("Form",{attrs:{model:t.search,inline:""}},[a("FormItem",{attrs:{label:"系列名称:","label-width":70}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入系列名称..."},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-series-add"},[a("Button",{attrs:{type:"success"},on:{click:function(e){t.modalAdd=!0}}},[t._v("添加")]),a("Modal",{attrs:{title:"添加"},on:{"on-ok":t.okAdd},model:{value:t.modalAdd,callback:function(e){t.modalAdd=e},expression:"modalAdd"}},[a("Form",{attrs:{model:t.info,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"系列名称:"}},[a("Input",{attrs:{placeholder:"请输入系列名称..."},model:{value:t.info.title,callback:function(e){t.$set(t.info,"title",e)},expression:"info.title"}})],1),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入描述..."},model:{value:t.info.desc,callback:function(e){t.$set(t.info,"desc",e)},expression:"info.desc"}})],1)],1)],1)],1),a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"layout-series-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-series-page"},[a("Page",{attrs:{total:t.total1,current:t.page1,"page-size":t.pageSize1,"show-elevator":""},on:{"on-change":t.changePage1}})],1),a("div",{staticClass:"layout-series-add"},[a("Modal",{attrs:{title:"修改"},on:{"on-ok":t.okEdit},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("Form",{attrs:{model:t.edit,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"系列名称:"}},[a("Input",{attrs:{placeholder:"请输入系列名称..."},model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}})],1),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入描述..."},model:{value:t.edit.desc,callback:function(e){t.$set(t.edit,"desc",e)},expression:"edit.desc"}})],1)],1)],1)],1),a("div",{staticClass:"layout-series-maintain"},[a("Modal",{attrs:{title:"内容维护",width:"1100"},model:{value:t.modalMaintain,callback:function(e){t.modalMaintain=e},expression:"modalMaintain"}},[a("div",{staticClass:"layout-series-maintain-add"},[a("Button",{attrs:{type:"success"},on:{click:function(e){t.modalProgramAdd=!0}}},[t._v("添加")]),a("Modal",{attrs:{title:"添加节目信息"},on:{"on-ok":t.okProgramAdd},model:{value:t.modalProgramAdd,callback:function(e){t.modalProgramAdd=e},expression:"modalProgramAdd"}},[a("Form",{attrs:{model:t.programInfo,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"节目名称:"}},[a("Input",{attrs:{placeholder:"请输入节目名称..."},model:{value:t.programInfo.title,callback:function(e){t.$set(t.programInfo,"title",e)},expression:"programInfo.title"}})],1),a("FormItem",{attrs:{label:"导演:"}},[a("Input",{attrs:{placeholder:"请输入导演..."},model:{value:t.programInfo.directors,callback:function(e){t.$set(t.programInfo,"directors",e)},expression:"programInfo.directors"}})],1),a("FormItem",{attrs:{label:"年代:"}},[a("Input",{attrs:{placeholder:"请输入年代..."},model:{value:t.programInfo.publish_year,callback:function(e){t.$set(t.programInfo,"publish_year",e)},expression:"programInfo.publish_year"}})],1),a("FormItem",{attrs:{label:"排序:"}},[a("Input",{attrs:{placeholder:"请输入排序..."},model:{value:t.programInfo.rank,callback:function(e){t.$set(t.programInfo,"rank",e)},expression:"programInfo.rank"}})],1),a("FormItem",{attrs:{label:"关联媒资:"}},[a("Input",{attrs:{placeholder:"请选择关联媒资..."},model:{value:t.programInfo.album_name,callback:function(e){t.$set(t.programInfo,"album_name",e)},expression:"programInfo.album_name"}}),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.modalComplete=!0,t.getCompleteList()}}},[t._v("修改")]),a("Modal",{attrs:{title:"关联媒资",width:1100},on:{"on-ok":t.okProgramOne},model:{value:t.modalComplete,callback:function(e){t.modalComplete=e},expression:"modalComplete"}},[a("Form",{attrs:{model:t.modalMainAddSearch,inline:""}},[a("FormItem",{attrs:{label:"节目名称:","label-width":70}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入节目名称..."},model:{value:t.modalMainAddSearch.title,callback:function(e){t.$set(t.modalMainAddSearch,"title",e)},expression:"modalMainAddSearch.title"}})],1),a("FormItem",{attrs:{label:"年代:","label-width":40}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入年代..."},model:{value:t.modalMainAddSearch.input2,callback:function(e){t.$set(t.modalMainAddSearch,"input2",e)},expression:"modalMainAddSearch.input2"}})],1),a("FormItem",{attrs:{label:"导演:","label-width":40}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入导演..."},model:{value:t.modalMainAddSearch.directors,callback:function(e){t.$set(t.modalMainAddSearch,"directors",e)},expression:"modalMainAddSearch.directors"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"}},[t._v("搜索")])],1),a("Table",{attrs:{border:"",columns:t.columns3,data:t.data3,"highlight-row":!0},on:{"on-row-click":t.programListOne}}),a("div",{staticClass:"layout-series-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("div",{staticStyle:{"margin-top":"40px"}})],1)],1)],1)],1)],1)],1),a("div",{staticClass:"layout-series-maintain-table"},[a("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}})],1),a("div",{staticClass:"layout-series-page"},[a("Page",{attrs:{total:t.total2,current:t.page2,"page-size":t.pageSize2,"show-elevator":""},on:{"on-change":t.changePage2}})],1),a("div",{staticStyle:{"margin-top":"40px"}})]),a("Modal",{attrs:{title:"修改"},on:{"on-ok":t.okProgramEdit},model:{value:t.modalProgramEdit,callback:function(e){t.modalProgramEdit=e},expression:"modalProgramEdit"}},[a("Form",{attrs:{model:t.programEdit,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"节目名称:"}},[a("Input",{model:{value:t.programEdit.title,callback:function(e){t.$set(t.programEdit,"title",e)},expression:"programEdit.title"}})],1),a("FormItem",{attrs:{label:"导演:"}},[a("Input",{model:{value:t.programEdit.directors,callback:function(e){t.$set(t.programEdit,"directors",e)},expression:"programEdit.directors"}})],1),a("FormItem",{attrs:{label:"年代:"}},[a("Input",{model:{value:t.programEdit.publish_year,callback:function(e){t.$set(t.programEdit,"publish_year",e)},expression:"programEdit.publish_year"}})],1),a("FormItem",{attrs:{label:"排序:"}},[a("Input",{model:{value:t.programEdit.rank,callback:function(e){t.$set(t.programEdit,"rank",e)},expression:"programEdit.rank"}})],1),a("FormItem",{attrs:{label:"关联媒资:"}},[a("Input",{model:{value:t.programEdit.album_name,callback:function(e){t.$set(t.programEdit,"album_name",e)},expression:"programEdit.album_name"}}),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.modalComplete=!0,t.getCompleteList()}}},[t._v("修改")]),a("Modal",{attrs:{title:"关联媒资",width:1100},on:{"on-ok":t.okProgramOne},model:{value:t.modalComplete,callback:function(e){t.modalComplete=e},expression:"modalComplete"}},[a("Form",{attrs:{model:t.modalMainAddSearch,inline:""}},[a("FormItem",{attrs:{label:"节目名称:","label-width":70}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入节目名称..."},model:{value:t.modalMainAddSearch.title,callback:function(e){t.$set(t.modalMainAddSearch,"title",e)},expression:"modalMainAddSearch.title"}})],1),a("FormItem",{attrs:{label:"年代:","label-width":40}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入年代..."},model:{value:t.modalMainAddSearch.publish_year,callback:function(e){t.$set(t.modalMainAddSearch,"publish_year",e)},expression:"modalMainAddSearch.publish_year"}})],1),a("FormItem",{attrs:{label:"导演:","label-width":40}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入导演..."},model:{value:t.modalMainAddSearch.directors,callback:function(e){t.$set(t.modalMainAddSearch,"directors",e)},expression:"modalMainAddSearch.directors"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.queryComplete}},[t._v("搜索")])],1),a("Table",{attrs:{border:"",columns:t.columns3,data:t.data3,"highlight-row":!0},on:{"on-row-click":t.programListOne}}),a("div",{staticClass:"layout-series-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("div",{staticStyle:{"margin-top":"40px"}})],1)],1)],1)],1)],1)],1)])},o=[],r=(a("386d"),a("7f7f"),{data:function(){var t=this;return{search:{name:""},modalAdd:!1,info:{},modalEdit:!1,edit:{},id:"",seriesId:"",modalMaintain:!1,programInfo:{},modalProgramAdd:!1,programEdit:{},modalProgramEdit:!1,modalMainAddSearch:{title:"",publish_year:"",directors:""},total:0,page:1,pageSize:30,total1:0,page1:1,pageSize1:30,total2:0,page2:1,pageSize2:10,programId:"",programOneRow:{},modalComplete:!1,columns1:[{title:"序号",type:"index",align:"center",width:60},{title:"系列ID",key:"id",align:"center"},{title:"系列名称",key:"title",align:"center"},{title:"描述",key:"desc",align:"center"},{title:"创建时间",key:"create_time",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"修改"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},style:{marginRight:"5px"},on:{"on-ok":function(){t.remove(a.row)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")]),e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.maintain(a.row)}}},"内容维护")])}}],data1:[],columns2:[{title:"序号",type:"index",align:"center",width:60},{title:"节目名称",key:"title",align:"center"},{title:"排序ID",key:"rank",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"上映年代",key:"publish_year",align:"center"},{title:"关联媒资",key:"album_bool",align:"center"},{title:"操作",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modifyMaintain(a.row)}}},"修改"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){t.remove1(a.row)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data2:[],columns3:[{title:"序号",type:"index",align:"center",width:60},{title:"节目名称",key:"title",align:"center"},{title:"节目分类",key:"category_name",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"上映年代",key:"publish_year",align:"center"},{title:"语言",key:"language",align:"center"}],data3:[]}},methods:{getTableList:function(){var t=this;t.$http(this.$config.BaseURL1+"/media/v2/series/list?name="+this.search.name+"&page="+this.page1+"&page_size="+this.pageSize1).then(function(e){1e4==e.data.errno&&(console.log(e),t.data1=e.data.data.list,t.total1=e.data.data.total)})},okAdd:function(){var t=this,e=this;e.$http.post(this.$config.BaseURL1+"/media/v2/series/modify",e.info).then(function(e){1e4==e.data.errno&&(t.info={},t.getTableList(),t.modalAdd=!1,t.$Message.success("添加成功"))})},query:function(){this.page1=1,this.getTableList()},changePage1:function(t){this.page1=t,this.getTableList()},modify:function(t){console.log(t),this.edit=t,this.id=t.id,this.modalEdit=!0},okEdit:function(){var t=this,e=this;e.$http.post(this.$config.BaseURL1+"/media/v2/series/modify?id="+this.id,e.edit).then(function(e){1e4==e.data.errno&&(t.getTableList(),t.modalEdit=!1,t.$Message.success("修改成功！"))})},remove:function(t){var e=this;console.log(t),this.$http.post(this.$config.BaseURL1+"/media/v2/series/delete",{id:t.id}).then(function(t){1e4==t.data.errno&&(e.getTableList(),e.$Message.success("删除成功！"))})},maintain:function(t){console.log(t),this.seriesId=t.id,console.log(this.seriesId),this.getProgramList(),this.modalMaintain=!0},getProgramList:function(){var t=this;this.$http(this.$config.BaseURL1+"/media/v2/series/program/list?id="+this.seriesId+"&page="+this.page2+"&page_size="+this.pageSize2).then(function(e){1e4==e.data.errno&&(t.data2=e.data.data.list,t.total2=e.data.data.total)})},changePage2:function(t){this.page2=t,this.getProgramList()},getCompleteList:function(){var t=this;this.$http(this.$config.BaseURL1+"/media/v2/complete/program/list?page="+this.page+"&pageSize="+this.pageSize+"&title="+this.modalMainAddSearch.title+"&publish_year="+this.modalMainAddSearch.publish_year+"&directors="+this.modalMainAddSearch.directors).then(function(e){1e4==e.data.errno&&(t.data3=e.data.data.list,t.total=e.data.data.total)})},queryComplete:function(){this.page=1,this.getCompleteList()},changePage:function(t){this.page=t,this.getCompleteList()},programListOne:function(t,e){console.log(e),console.log(t),this.programOneRow=t,console.log(this.programOneRow)},okProgramOne:function(){this.programInfo.album_name=this.programOneRow.title,this.programInfo.album_id=this.programOneRow.id,this.programEdit.media_name=this.programOneRow.title,this.programEdit.album_id=this.programOneRow.id},okProgramAdd:function(){var t=this;console.log(this.seriesId),this.programInfo.publish_year*=1,this.programInfo.rank*=1,this.programInfo.pid=this.seriesId,this.$http.post(this.$config.BaseURL1+"/media/v2/series/program/modify",this.programInfo).then(function(e){1e4==e.data.errno&&(t.programInfo={},t.getProgramList(),t.$Message.success("添加成功！"))})},modifyMaintain:function(t){console.log(t),this.programEdit=t,this.programId=t.id,this.modalProgramEdit=!0},okProgramEdit:function(){var t=this;this.programEdit.pid=this.seriesId,this.programEdit.program_id=this.programId,this.programEdit.publish_year*=1,this.programEdit.rank*=1,console.log(this.programEdit.pid),this.$http.post(this.$config.BaseURL1+"/media/v2/series/program/modify",this.programEdit).then(function(e){1e4==e.data.errno&&(t.getProgramList(),t.$Message.success("修改成功！"))})},remove1:function(t){var e=this;this.$http.post(this.$config.BaseURL1+"/media/v2/series/program/delete",{program_id:t.id}).then(function(t){1e4==t.data.errno&&(e.getProgramList(),e.$Message.success("删除成功！"))})}},mounted:function(){this.getTableList()}}),l=r,s=(a("f09c"),a("2877")),n=Object(s["a"])(l,i,o,!1,null,null,null);n.options.__file="series.vue";e["default"]=n.exports},b78f:function(t,e,a){},f09c:function(t,e,a){"use strict";var i=a("b78f"),o=a.n(i);o.a}}]);