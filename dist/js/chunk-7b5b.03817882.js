(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b5b"],{"188a":function(t,e,a){},"1eea":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-config"},[a("div",{staticClass:"layout-config-search"},[a("Form",{attrs:{model:t.search,inline:""}},[a("FormItem",{attrs:{label:"渠道名称:","label-width":70}},[a("Select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择渠道名称..."},model:{value:t.search.channelId,callback:function(e){t.$set(t.search,"channelId",e)},expression:"search.channelId"}},t._l(t.cityList,function(e){return a("Option",{key:e.channelId,attrs:{value:e.channelId}},[t._v(t._s(e.channelName))])}))],1),a("FormItem",{attrs:{label:"mac:","label-width":40}},[a("Input",{staticStyle:{width:"210px"},attrs:{placeholder:"请输入mac..."},model:{value:t.search.mac,callback:function(e){t.$set(t.search,"mac",e)},expression:"search.mac"}})],1),a("FormItem",{attrs:{label:"配置方式:","label-width":70}},[a("Select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择配置方式..."},model:{value:t.search.configWay,callback:function(e){t.$set(t.search,"configWay",e)},expression:"search.configWay"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("渠道")]),a("Option",{attrs:{value:2}},[t._v("mac")])],1)],1),a("FormItem",{attrs:{label:"配置名称:","label-width":70}},[a("Input",{staticStyle:{width:"210px"},attrs:{placeholder:"请输入配置名称..."},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("FormItem",{attrs:{label:"配置场景:","label-width":70}},[a("Select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择配置场景..."},model:{value:t.search.sceneId,callback:function(e){t.$set(t.search,"sceneId",e)},expression:"search.sceneId"}},t._l(t.cityList1,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")])],1),a("FormItem",{attrs:{"label-width":170}},[a("Button",{attrs:{type:"success"},on:{click:function(e){t.modalAdd=!0}}},[t._v("添加")]),a("Modal",{attrs:{title:"添加终端模板配置"},model:{value:t.modalAdd,callback:function(e){t.modalAdd=e},expression:"modalAdd"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:t.addCancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.okAdd}},[t._v("确定")])],1),a("Form",{attrs:{model:t.info,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"配置名称:"}},[a("Input",{attrs:{placeholder:"请输入配置名称..."},model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1),a("FormItem",{attrs:{label:"配置场景:"}},[a("Select",{attrs:{placeholder:"请选择配置场景..."},model:{value:t.info.sceneId,callback:function(e){t.$set(t.info,"sceneId",e)},expression:"info.sceneId"}},t._l(t.cityList1,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                                ")])}))],1),a("FormItem",{attrs:{label:"配置方式:"}},[a("RadioGroup",{model:{value:t.info.configWay,callback:function(e){t.$set(t.info,"configWay",e)},expression:"info.configWay"}},[a("Radio",{attrs:{label:1}},[a("span",[t._v("渠道")])]),a("Radio",{attrs:{label:2}},[a("span",[t._v("mac")])])],1)],1),2!=t.info.configWay?a("FormItem",{attrs:{label:"配置渠道:"}},[a("Select",{attrs:{placeholder:"请选择配置渠道..."},model:{value:t.info.channelId,callback:function(e){t.$set(t.info,"channelId",e)},expression:"info.channelId"}},t._l(t.cityList,function(e){return a("Option",{key:e.channelId,attrs:{value:e.channelId}},[t._v(t._s(e.channelName))])}))],1):t._e(),1!=t.info.configWay?a("FormItem",{attrs:{label:"配置mac:"}},[a("Input",{attrs:{placeholder:"请输入配置mac,按照,分隔...",type:"textarea",rows:4},model:{value:t.info.mac,callback:function(e){t.$set(t.info,"mac",e)},expression:"info.mac"}})],1):t._e(),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{placeholder:"请输入描述...",type:"textarea",rows:4},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}})],1)],1)],1)],1)],1)],1),a("div",{staticClass:"layout-config-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-config-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("Modal",{attrs:{title:"修改终端模板配置"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:t.modalEditbtn}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.okEdit}},[t._v("确定")])],1),a("Form",{attrs:{model:t.edit,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"配置名称:"}},[a("Input",{model:{value:t.edit.name,callback:function(e){t.$set(t.edit,"name",e)},expression:"edit.name"}})],1),a("FormItem",{attrs:{label:"配置场景:"}},[a("Select",{attrs:{placeholder:"请选择配置场景..."},model:{value:t.edit.sceneId,callback:function(e){t.$set(t.edit,"sceneId",e)},expression:"edit.sceneId"}},t._l(t.cityList1,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("FormItem",{attrs:{label:"配置方式:"}},[a("Input",{attrs:{disabled:""},model:{value:t.edit.is_configWay,callback:function(e){t.$set(t.edit,"is_configWay",e)},expression:"edit.is_configWay"}})],1),2!=t.edit.configWay?a("FormItem",{attrs:{label:"配置渠道:"}},[a("Select",{attrs:{placeholder:"请选择配置渠道..."},model:{value:t.edit.channelId,callback:function(e){t.$set(t.edit,"channelId",e)},expression:"edit.channelId"}},t._l(t.cityList,function(e){return a("Option",{key:e.channelId,attrs:{value:e.channelId}},[t._v(t._s(e.channelName))])}))],1):t._e(),1!=t.edit.configWay?a("FormItem",{attrs:{label:"配置mac:"}},[a("Input",{attrs:{placeholder:"请输入配置mac...",type:"textarea",rows:4},model:{value:t.edit.mac,callback:function(e){t.$set(t.edit,"mac",e)},expression:"edit.mac"}})],1):t._e(),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{placeholder:"请输入描述...",type:"textarea",rows:4},model:{value:t.edit.description,callback:function(e){t.$set(t.edit,"description",e)},expression:"edit.description"}})],1)],1)],1)],1)},i=[],s=(a("ac6a"),a("7f7f"),a("386d"),{data:function(){var t=this;return{search:{channelId:"",mac:"",configWay:"",name:"",sceneId:""},total:0,page:1,pageSize:30,cityList:[],cityList1:[],info:{},modalAdd:!1,edit:{},modalEdit:!1,id:"",columns1:[{title:"ID",key:"id",align:"center"},{title:"配置名称",key:"name",align:"center"},{title:"渠道",key:"channelId",align:"center"},{title:"mac",key:"mac",align:"center"},{title:"配置方式",key:"is_configWay",align:"center"},{title:"配置场景",key:"sceneName",align:"center"},{title:"操作",width:200,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"修改"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){t.remove(a.row)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{getTableList:function(){var t=this;this.$http.get(this.$config.BaseURL+"/scene/config/list?channelId="+this.search.channelId+"&mac="+this.search.mac+"&configWay="+this.search.configWay+"&name="+this.search.name+"&sceneId="+this.search.sceneId+"&page="+this.page+"&pageSize="+this.pageSize).then(function(e){1e4==e.data.errno&&(console.log(e),t.data1=e.data.data.list,e.data.data.list.forEach(function(t){1==t.configWay?t.is_configWay="渠道":2==t.configWay&&(t.is_configWay="mac")}),t.total=e.data.data.total)})},getChannelSelect:function(){var t=this;this.$http.get(this.$config.BaseURL2+"/tv/channel/list").then(function(e){1e4==e.data.errno&&(t.cityList=e.data.data.list)})},getSceneSelect:function(){var t=this;this.$http.get(this.$config.BaseURL+"/scene/scene/list").then(function(e){1e4==e.data.errno&&(t.cityList1=e.data.data.list)})},query:function(){this.page=1,this.getTableList()},changePage:function(t){this.page=t,this.getTableList()},addCancel:function(){this.info={},this.modalAdd=!1,this.getTableList()},okAdd:function(){var t=this;console.log(1111),this.$http.post(this.$config.BaseURL+"/scene/config/save",this.info).then(function(e){1e4==e.data.errno&&(t.info={},t.modalAdd=!1,t.getTableList(),t.$Message.success("添加成功"))})},modify:function(t){console.log(t),1==t.configWay?t.is_configWay="渠道":2==t.configWay&&(t.is_configWay="mac"),this.id=t.id,this.edit=t,this.modalEdit=!0},okEdit:function(){var t=this;this.edit.id=this.id,this.$http.post(this.$config.BaseURL+"/scene/config/save",this.edit).then(function(e){1e4==e.data.errno&&(t.modalEdit=!1,t.getTableList(),t.$Message.success("修改成功"))})},modalEditbtn:function(){this.modalEdit=!1,this.getTableList()},remove:function(t){var e=this;this.$http.get(this.$config.BaseURL+"/scene/config/delete?id="+t.id).then(function(t){1e4==t.data.errno&&(e.getTableList(),e.$Message.success("删除成功"))})}},mounted:function(){this.getTableList(),this.getChannelSelect(),this.getSceneSelect()}}),o=s,c=(a("863c"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,null,null);l.options.__file="config.vue";e["default"]=l.exports},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},a]})},"863c":function(t,e,a){"use strict";var n=a("188a"),i=a.n(n);i.a}}]);