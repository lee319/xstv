(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b00f"],{"257f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-desktop"},[a("div",{staticClass:"layout-desktop-search"},[a("Form",{attrs:{model:t.search,"label-position":"right",inline:""}},[a("FormItem",{attrs:{label:"所属模版:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择所属模版..."},model:{value:t.search.templateId,callback:function(e){t.$set(t.search,"templateId",e)},expression:"search.templateId"}},t._l(t.tampList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.title))])}))],1),a("FormItem",{attrs:{label:"状态:","label-width":40}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态..."},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:0}},[t._v("下线")]),a("Option",{attrs:{value:1}},[t._v("上线")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.query()}}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-desktop-add"},[a("Button",{attrs:{type:"success"},on:{click:function(e){t.modalAddBtn()}}},[t._v("添加")]),a("Modal",{attrs:{title:"添加"},model:{value:t.modalAdd,callback:function(e){t.modalAdd=e},expression:"modalAdd"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:t.addCancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.addOk}},[t._v("确定")])],1),a("Form",{attrs:{model:t.info,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"所属模版:"}},[a("Select",{attrs:{placeholder:"请选择所属模版..."},model:{value:t.info.templateId,callback:function(e){t.$set(t.info,"templateId",e)},expression:"info.templateId"}},t._l(t.tampList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.title))])}))],1),a("FormItem",{attrs:{label:"桌面名称:"}},[a("Input",{attrs:{placeholder:"请输入桌面名称..."},model:{value:t.info.title,callback:function(e){t.$set(t.info,"title",e)},expression:"info.title"}})],1),a("FormItem",{attrs:{label:"桌面图标:"}},[a("Upload",{ref:"upload",attrs:{action:t.$config.BaseURLfile+"/common/upload/file","on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"with-credentials":!0}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传桌面图标")])],1)],1),a("FormItem",{attrs:{label:"桌面背景:"}},[a("Upload",{ref:"upload1",attrs:{action:t.$config.BaseURLfile+"/common/upload/file","on-success":t.handleSuccess1,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError1,"on-exceeded-size":t.handleMaxSize1,"with-credentials":!0}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传桌面背景")])],1)],1),a("FormItem",{attrs:{label:"排序Id:"}},[a("Input",{attrs:{placeholder:"请输入排序Id..."},model:{value:t.info.sortId,callback:function(e){t.$set(t.info,"sortId",e)},expression:"info.sortId"}})],1),a("FormItem",{attrs:{label:"状态:"}},[a("Select",{attrs:{placeholder:"请选择所属模版..."},model:{value:t.info.status,callback:function(e){t.$set(t.info,"status",e)},expression:"info.status"}},[a("Option",{attrs:{value:0}},[t._v("下线")]),a("Option",{attrs:{value:1}},[t._v("上线")])],1)],1),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入描述..."},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}})],1)],1)],1)],1),a("div",{staticClass:"layout-desktop-edit"},[a("Modal",{attrs:{title:"修改"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:t.modalEditBtn}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.editOk}},[t._v("确定")])],1),a("Form",{attrs:{model:t.edit,"label-position":"right","label-width":100}},[a("FormItem",{attrs:{label:"所属模版:"}},[a("Select",{attrs:{placeholder:"请选择所属模版..."},model:{value:t.edit.templateId,callback:function(e){t.$set(t.edit,"templateId",e)},expression:"edit.templateId"}},t._l(t.tampList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.title))])}))],1),a("FormItem",{attrs:{label:"桌面名称:"}},[a("Input",{model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}})],1),a("FormItem",{attrs:{label:"桌面图标:"}},[a("Upload",{ref:"upload2",attrs:{action:t.$config.BaseURLfile+"/common/upload/file","on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"with-credentials":!0}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传桌面图标")])],1)],1),a("FormItem",{attrs:{label:"桌面背景:"}},[a("Upload",{ref:"upload3",attrs:{action:t.$config.BaseURLfile+"/common/upload/file","on-success":t.handleSuccess1,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError1,"on-exceeded-size":t.handleMaxSize1,"with-credentials":!0}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传桌面背景")])],1)],1),a("FormItem",{attrs:{label:"排序Id:"}},[a("Input",{model:{value:t.edit.sortId,callback:function(e){t.$set(t.edit,"sortId",e)},expression:"edit.sortId"}})],1),a("FormItem",{attrs:{label:"状态:"}},[a("Select",{staticStyle:{width:"390px"},attrs:{placeholder:"请选择状态..."}},[a("Option",{attrs:{value:1}},[t._v("上线")]),a("Option",{attrs:{value:0}},[t._v("下线")])],1)],1),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:t.edit.description,callback:function(e){t.$set(t.edit,"description",e)},expression:"edit.description"}})],1)],1)],1)],1),a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"layout-desktop-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1)])},i=[],s=(a("ac6a"),a("386d"),a("cadf"),a("551c"),a("097d"),{data:function(){var t=this;return{search:{templateId:"",status:""},tampList:[],info:{},modalAdd:!1,edit:{status:""},id:[],modalEdit:!1,columns1:[{title:"序号",type:"index",width:70,align:"center"},{title:"桌面名称",key:"title",align:"center"},{title:"图标地址",key:"iconUrl",align:"center",render:function(t,e){return t("div",[t("img",{attrs:{src:e.row.iconUrl},style:{width:"50px",height:"50px",marginTop:"5px"}})])}},{title:"背景图地址",key:"bgUrl",align:"center",render:function(t,e){return t("div",[t("img",{attrs:{src:e.row.bgUrl},style:{width:"50px",height:"50px",marginTop:"5px"}})])}},{title:"频道排序",key:"sortId",align:"center"},{title:"状态",key:"Isstatus",align:"center"},{title:"描述",key:"description",align:"center"},{title:"操作",width:160,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"修改"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){t.remove(a.index)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{handleSuccess:function(t,e){console.log(t),1e4==t.errno&&(e.url=t.data.url,e.name="",this.info.iconUrl=t.data.url,console.log(this.info.iconUrl))},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件格式文件名不正确，请选择JPG或PNG"})},handleMaxSize:function(t){this.$Notice.warning({title:"超过文件大小限制",desc:"文件  文件名 太大，不超过2M."})},handleSuccess1:function(t,e){console.log(t),1e4==t.errno&&(e.url=t.data.url,e.name="",this.info.bgUrl=t.data.url,console.log(this.info.bgUrl))},handleFormatError1:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件格式文件名不正确，请选择JPG或PNG"})},handleMaxSize1:function(t){this.$Notice.warning({title:"超过文件大小限制",desc:"文件  文件名 太大，不超过2M."})},getTableList:function(){var t=this;void 0==t.search.status&&(t.search.status=""),t.$http(this.$config.BaseURL+"/staticpromotion/desktop/list?templateId="+t.search.templateId+"&status="+t.search.status).then(function(e){console.log(e),1e4==e.data.errno&&(t.data1=e.data.data,e.data.data.forEach(function(t){0==t.status?t.Isstatus="下线":1==t.status&&(t.Isstatus="上线")}))})},getSelectList:function(){var t=this;t.$http(this.$config.BaseURL+"/staticpromotion/template/list").then(function(e){1e4==e.data.errno&&(console.log(e),t.tampList=e.data.data.list)})},query:function(){this.getTableList()},modalAddBtn:function(){this.modalAdd=!0,this.$refs.upload.clearFiles(),this.$refs.upload1.clearFiles()},addOk:function(){var t=this;console.log(111);var e=this;e.$http.post(this.$config.BaseURL+"/staticpromotion/desktop/save",e.info).then(function(e){console.log(e),1e4==e.data.errno&&(t.info={},t.modalAdd=!1,t.getTableList(),t.$Message.success("添加成功!"))})},addCancel:function(){this.info={},this.modalAdd=!1},modify:function(t){console.log(t),this.modalEdit=!0,this.edit=t,this.id=t.id,console.log(this.edit.status)},editOk:function(){var t=this,e=this;e.$http.post(this.$config.BaseURL+"/staticpromotion/desktop/save?id="+e.id,e.edit).then(function(e){1e4==e.data.errno&&(t.edit={},t.modalEdit=!1,t.getTableList(),t.$Message.success("修改成功"))},function(t){})},modalEditBtn:function(){this.modalEdit=!1,this.getTableList()},remove:function(t){var e=this,a=this;a.$http(this.$config.BaseURL+"/staticpromotion/desktop/delete?id="+a.data1[t].id).then(function(t){1e4==t.data.errno&&(e.$Message.success("删除成功"),e.getTableList())})}},mounted:function(){this.getTableList(),this.getSelectList()}}),l=s,n=(a("35d8"),a("2877")),r=Object(n["a"])(l,o,i,!1,null,null,null);r.options.__file="desktop.vue";e["default"]=r.exports},"35d8":function(t,e,a){"use strict";var o=a("fbc7"),i=a.n(o);i.a},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var o=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,o):new RegExp(a)[e](String(o))},a]})},fbc7:function(t,e,a){}}]);