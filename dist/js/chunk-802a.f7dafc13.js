(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-802a"],{"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var s=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,s):new RegExp(a)[e](String(s))},a]})},"4eb5":function(t,e,a){},ba13:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-deviceNews"},[a("div",{staticClass:"layout-deviceNews-search"},[a("Form",{attrs:{model:t.search,inline:""}},[a("FormItem",{attrs:{label:"mac:","label-width":40}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入mac..."},model:{value:t.search.mac,callback:function(e){t.$set(t.search,"mac",e)},expression:"search.mac"}})],1),a("FormItem",{attrs:{label:"cpuid:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入cpuid..."},model:{value:t.search.cpuId,callback:function(e){t.$set(t.search,"cpuId",e)},expression:"search.cpuId"}})],1),a("FormItem",{attrs:{label:"板卡sn:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入板卡sn..."},model:{value:t.search.boardCardSn,callback:function(e){t.$set(t.search,"boardCardSn",e)},expression:"search.boardCardSn"}})],1),a("FormItem",{attrs:{label:"整机sn:","label-width":60}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入整机sn..."},model:{value:t.search.completeMachineSn,callback:function(e){t.$set(t.search,"completeMachineSn",e)},expression:"search.completeMachineSn"}})],1),a("FormItem",{attrs:{label:"终端厂商:","label-width":80}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.search.customerId,callback:function(e){t.$set(t.search,"customerId",e)},expression:"search.customerId"}},t._l(t.cityList,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.customerName))])}))],1),a("FormItem",{attrs:{label:"商用型号:","label-width":65}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.search.commercialId,callback:function(e){t.$set(t.search,"commercialId",e)},expression:"search.commercialId"}},t._l(t.cityList1,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.commercialName))])}))],1),a("FormItem",{attrs:{label:"内部型号:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.search.insideId,callback:function(e){t.$set(t.search,"insideId",e)},expression:"search.insideId"}},t._l(t.cityList2,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.insideName))])}))],1),a("FormItem",{attrs:{label:"渠道:","label-width":50}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.search.channelId,callback:function(e){t.$set(t.search,"channelId",e)},expression:"search.channelId"}},t._l(t.cityList3,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.channelName))])}))],1),a("FormItem",{attrs:{label:"用户激活:","label-width":70}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择用户激活..."},model:{value:t.search.userActivationStatus,callback:function(e){t.$set(t.search,"userActivationStatus",e)},expression:"search.userActivationStatus"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:1}},[t._v("已激活")]),a("Option",{attrs:{value:0}},[t._v("未激活")])],1)],1),a("FormItem",{attrs:{label:"激活IP:","label-width":70}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入激活IP..."},model:{value:t.search.userActivationIp,callback:function(e){t.$set(t.search,"userActivationIp",e)},expression:"search.userActivationIp"}})],1),a("FormItem",{attrs:{label:"最后访问IP:","label-width":75}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入激活IP..."},model:{value:t.search.lastVisitIp,callback:function(e){t.$set(t.search,"lastVisitIp",e)},expression:"search.lastVisitIp"}})],1),a("FormItem",{attrs:{label:"激活时间:","label-width":70}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",placement:"bottom-end",placeholder:"请选择整机激活时间..."},model:{value:t.timer,callback:function(e){t.timer=e},expression:"timer"}})],1),a("FormItem",{attrs:{label:"最后访问时间:","label-width":90}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",placement:"bottom-end",placeholder:"请选择整机激活时间..."},model:{value:t.timer1,callback:function(e){t.timer1=e},expression:"timer1"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.query()}}},[t._v("搜索")])],1),a("FormItem",{attrs:{"label-width":90}},[a("Button",{attrs:{type:"success"},on:{click:t.downloadExcel}},[t._v("导出excel")])],1)],1)],1),a("div",{staticClass:"layout-deviceNews-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-deviceNews-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("div",{staticClass:"layout-deviceNews-info"},[a("Modal",{attrs:{title:"详情",width:"900"},model:{value:t.modalInfo,callback:function(e){t.modalInfo=e},expression:"modalInfo"}},[a("Row",[a("Col",{attrs:{span:"8"}},[t._v(" mac:"+t._s(t.news.mac)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 无线mac:"+t._s(t.news.wirelessMac)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" cpuid:"+t._s(t.news.cpuId)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 整机sn:"+t._s(t.news.completeMachineSn)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 批次:"+t._s(t.news.batch)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 订单号:"+t._s(t.news.orderNumber)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 生产日期:"+t._s(t.news.productionTime)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 生产工厂:"+t._s(t.news.productionFactory)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 终端厂商:"+t._s(t.news.customerName)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 商用型号:"+t._s(t.news.commercialName)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 内部型号:"+t._s(t.news.insideName)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 渠道:"+t._s(t.news.channelValue)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 任务ID:"+t._s(t.news.taskId)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 录入时间:"+t._s(t.news.importTime)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" hdcpKey:"+t._s(t.news.hdcpKey)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" UI版本:"+t._s(t.news.uiVersion)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 固件版本:"+t._s(t.news.firmwareVersion)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 系统版本:"+t._s(t.news.systemVersion)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 联网方式:"+t._s(t.news.networkingMode)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" SSID:"+t._s(t.news.ssid)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 激活时间:"+t._s(t.news.userActivationTime)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 激活IP:"+t._s(t.news.userActivationIp)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 最后请求时间:"+t._s(t.news.lastVisitTime)+"\n                ")]),a("Col",{attrs:{span:"8"}},[t._v(" 最后请求IP:"+t._s(t.news.lastVisitIp)+"\n                ")]),a("Col",{attrs:{span:"12"}},[t._v(" 板卡sn:"+t._s(t.news.boardCardSn)+"\n                ")]),a("Col",{attrs:{span:"12"}},[t._v(" 描述:"+t._s(t.news.describe)+"\n                ")])],1)],1)],1),a("div",{staticClass:"layout-deviceNews-edit"},[a("Modal",{attrs:{title:"修改"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:function(e){t.modalEdit=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.editOk}},[t._v("确定")])],1),a("Form",{ref:"edit",attrs:{model:t.edit,"label-position":"right","label-width":80,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"mac:",prop:"mac"}},[a("Input",{model:{value:t.edit.mac,callback:function(e){t.$set(t.edit,"mac",e)},expression:"edit.mac"}})],1),a("FormItem",{attrs:{label:"无线mac:",prop:"wirelessMac"}},[a("Input",{model:{value:t.edit.wirelessMac,callback:function(e){t.$set(t.edit,"wirelessMac",e)},expression:"edit.wirelessMac"}})],1),a("FormItem",{attrs:{label:"板卡sn:",prop:"boardCardSn"}},[a("Input",{model:{value:t.edit.boardCardSn,callback:function(e){t.$set(t.edit,"boardCardSn",e)},expression:"edit.boardCardSn"}})],1),a("FormItem",{attrs:{label:"整机sn:",prop:"completeMachineSn"}},[a("Input",{model:{value:t.edit.completeMachineSn,callback:function(e){t.$set(t.edit,"completeMachineSn",e)},expression:"edit.completeMachineSn"}})],1),a("FormItem",{attrs:{label:"渠道:",prop:"completeMachineSn"}},[a("Select",{model:{value:t.edit.channelId,callback:function(e){t.$set(t.edit,"channelId",e)},expression:"edit.channelId"}},t._l(t.editChannel,function(e){return a("Option",{key:e._id,attrs:{value:e._id}},[t._v(t._s(e.channelName))])}))],1),a("FormItem",{attrs:{label:"描述:"}},[a("Input",{model:{value:t.edit.describe,callback:function(e){t.$set(t.edit,"describe",e)},expression:"edit.describe"}})],1)],1)],1)],1)])},i=[],n=(a("386d"),a("c1df")),c={data:function(){var t=this;return{search:{mac:"",cpuId:"",completeMachineSn:"",boardCardSn:"",customerId:"",channelId:"",commercialId:"",insideId:"",userActivationIp:"",lastVisitIp:"",endTime:"",startTime:"",endVisitTime:"",startVisitTime:"",userActivationStatus:""},page:1,total:0,pageSize:30,cityList:[],cityList1:[],cityList2:[],cityList3:[],timer:[],timer1:[],news:[],modalInfo:!1,edit:{},modalEdit:!1,id:"",editChannel:[],columns1:[{title:"序号",type:"index",width:70,align:"center"},{title:"mac",key:"mac",align:"center"},{title:"cpuid",key:"cpuId",align:"center"},{title:"板卡sn",key:"boardCardSn",align:"center"},{title:"整机sn",key:"completeMachineSn",align:"center"},{title:"内部型号",key:"insideName",align:"center"},{title:"商用型号",key:"commercialName",align:"center"},{title:"终端厂商",key:"customerName",align:"center"},{title:"操作",width:220,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.details(a.row)}}},"详情"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"修改 "),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},style:{marginRight:"5px"},on:{"on-ok":function(){t.remove(a.row)}}},[e("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[],ruleValidate:{mac:[{required:!0,message:"请输入mac...",trigger:"blur"}],boardCardSn:[{required:!0,message:"请输入板卡sn...",trigger:"blur"}],completeMachineSn:[{required:!0,message:"请输入整机sn...",trigger:"blur"}]}}},methods:{getTableList:function(){var t=this,e=n(t.timer[0]).format("X"),a=n(t.timer[1]).format("X"),s=n(t.timer1[0]).format("X"),i=n(t.timer1[1]).format("X");isNaN(e)&&(e=""),isNaN(a)&&(a=""),isNaN(s)&&(s=""),isNaN(i)&&(i=""),t.$http(this.$config.BaseURL2+"/tv/device/list?mac="+t.search.mac+"&cpuId="+t.search.cpuId+"&completeMachineSn="+t.search.completeMachineSn+"&boardCardSn="+t.search.boardCardSn+"&customerId="+t.search.customerId+"&boardCardSn="+t.search.boardCardSn+"&customerId="+t.search.customerId+"&channelId="+t.search.channelId+"&commercialId="+t.search.commercialId+"&insideId="+t.search.insideId+"&userActivationIp="+t.search.userActivationIp+"&lastVisitIp="+t.search.lastVisitIp+"&startTime="+e+"&endTime="+a+"&startVisitTime="+s+"&endVisitTime="+i+"&page="+this.page+"&pageSize="+t.pageSize+"&userActivationStatus="+t.search.userActivationStatus).then(function(e){1e4==e.data.errno&&(console.log(e),t.data1=e.data.data.list,t.total=e.data.data.total)},function(t){})},getSelect:function(){var t=this,e=this;e.$http(this.$config.BaseURL2+"/tv/customer/list").then(function(e){1e4==e.data.errno&&(console.log(e),t.cityList=e.data.data.list)},function(t){})},getSelect1:function(){var t=this,e=this;e.$http(this.$config.BaseURL2+"/tv/commercialmodel/list").then(function(e){1e4==e.data.errno&&(console.log(e),t.cityList1=e.data.data.list)},function(t){})},getSelect2:function(){var t=this;t.$http(this.$config.BaseURL2+"/tv/insidemodel/list").then(function(e){1e4==e.data.errno&&(t.cityList2=e.data.data.list)},function(t){})},getSelect3:function(){var t=this;t.$http(this.$config.BaseURL2+"/tv/channel/list").then(function(e){1e4==e.data.errno&&(t.cityList3=e.data.data.list)},function(t){})},query:function(){this.getTableList()},details:function(t){console.log(t),this.news=t,console.log(this.news),this.modalInfo=!0},modify:function(t){var e=this;console.log(t),this.id=t._id,console.log(this.id),this.edit=t,this.modalEdit=!0,this.$http(this.$config.BaseURL2+"/tv/channel/list?channelId="+t._id).then(function(t){1e4==t.data.errno&&(e.editChannel=t.data.data.list)},function(t){})},editOk:function(){var t=this,e=this;e.$http.post(this.$config.BaseURL2+"/tv/device/edit",e.edit).then(function(e){1e4==e.data.errno&&(t.modalEdit=!1,t.getTableList(),t.$Message.success("修改成功！"))},function(t){})},remove:function(t){var e=this,a=this;a.$http(this.$config.BaseURL2+"/tv/device/del?_id="+t._id).then(function(t){1e4==t.data.errno&&(e.getTableList(),e.$Message.success("删除成功！"))},function(t){})},changePage:function(t){this.page=t,this.getTableList()},downloadExcel:function(){var t=this,e=n(t.timer[0]).format("X"),a=n(t.timer[1]).format("X"),s=n(t.timer1[0]).format("X"),i=n(t.timer1[1]).format("X");isNaN(e)&&(e=""),isNaN(a)&&(a=""),isNaN(s)&&(s=""),isNaN(i)&&(i=""),window.open(this.$config.BaseURL2+"/tv/export/devicelist?mac="+t.search.mac+"&cpuId="+t.search.cpuId+"&completeMachineSn="+t.search.completeMachineSn+"&boardCardSn="+t.search.boardCardSn+"&customerId="+t.search.customerId+"&boardCardSn="+t.search.boardCardSn+"&customerId="+t.search.customerId+"&channelId="+t.search.channelId+"&commercialId="+t.search.commercialId+"&insideId="+t.search.insideId+"&userActivationIp="+t.search.userActivationIp+"&lastVisitIp="+t.search.lastVisitIp+"&startTime="+e+"&endTime="+a+"&startVisitTime="+s+"&endVisitTime="+i,"_blank")}},mounted:function(){this.getTableList(),this.getSelect(),this.getSelect1(),this.getSelect2(),this.getSelect3()}},r=c,l=(a("d4cc"),a("2877")),o=Object(l["a"])(r,s,i,!1,null,null,null);o.options.__file="deviceNews.vue";e["default"]=o.exports},d4cc:function(t,e,a){"use strict";var s=a("4eb5"),i=a.n(s);i.a}}]);