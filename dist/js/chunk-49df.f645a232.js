(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49df"],{"20d6f":function(t,a,e){},"386d":function(t,a,e){e("214f")("search",1,function(t,a,e){return[function(e){"use strict";var i=t(this),n=void 0==e?void 0:e[a];return void 0!==n?n.call(e,i):new RegExp(e)[a](String(i))},e]})},"3e90":function(t,a,e){"use strict";var i=e("20d6f"),n=e.n(i);n.a},"6f87":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout-studydevice"},[e("div",{staticClass:"layout-studydevice-search"},[e("Form",{attrs:{model:t.search,inline:""}},[e("FormItem",{attrs:{label:"微信名称:","label-width":70}},[e("Select",{staticStyle:{width:"200px"},attrs:{filterable:"",remote:"","remote-method":t.remoteMethod1,loading:t.loading1,placeholder:"请输入微信名称..."},model:{value:t.search.nickname,callback:function(a){t.$set(t.search,"nickname",a)},expression:"search.nickname"}},t._l(t.options1,function(a,i){return e("Option",{key:i,attrs:{value:a.id}},[t._v(t._s(a.nickname)+"\n                    ")])}))],1),e("FormItem",{attrs:{label:"mac:","label-width":50}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入mac..."},model:{value:t.search.mac,callback:function(a){t.$set(t.search,"mac",a)},expression:"search.mac"}})],1),e("FormItem",{attrs:{label:"整机sn:","label-width":70}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入整机sn..."},model:{value:t.search.sn,callback:function(a){t.$set(t.search,"sn",a)},expression:"search.sn"}})],1),e("FormItem",{attrs:{label:"绑定时间","label-width":70}},[e("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",placeholder:"请选择绑定时间..."},model:{value:t.timer,callback:function(a){t.timer=a},expression:"timer"}})],1),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")])],1)],1)],1),e("div",{staticClass:"layout-studydevice-table"},[e("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),e("div",{staticClass:"layout-studydevice-page"},[e("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),e("Modal",{attrs:{title:"终端绑定详情",width:"700"},model:{value:t.modalInfo,callback:function(a){t.modalInfo=a},expression:"modalInfo"}},[e("Row",[e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                微信名称:"+t._s(t.news.nickName)+"\n            ")])]),e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                微信openid:"+t._s(t.news.openid)+"\n            ")])]),e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                绑定设备mac:"+t._s(t.news.mac)+"\n            ")])]),e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                绑定设备cpuid:"+t._s(t.news.cpuId)+"\n            ")])]),e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                绑定时间:"+t._s(t.news.is_bindTime)+"\n            ")])]),e("Col",{attrs:{span:"8"}},[e("p",[t._v("\n                绑定IP:"+t._s(t.news.bindIp)+"\n            ")])]),e("Col",{attrs:{span:"12"}},[e("p",[t._v("\n                板卡sn:"+t._s(t.news.boardCardSn)+"\n            ")])]),e("Col",{attrs:{span:"12"}},[e("p",[t._v("\n                整机sn:"+t._s(t.news.sn)+"\n            ")])]),e("Col",{attrs:{span:"12"}},[e("p",[t._v("\n                微信头像:\n                "),e("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.news.avatarUrl,alt:""}})])])],1)],1),e("Modal",{attrs:{title:"应用管理",width:"1000"},model:{value:t.modalApplication,callback:function(a){t.modalApplication=a},expression:"modalApplication"}},[e("div",[e("Form",{attrs:{model:t.applicationSearch,inline:""}},[e("FormItem",{attrs:{label:"设备mac:","label-width":70}},[e("Input",{attrs:{disabled:""},model:{value:t.applicationInfo.mac,callback:function(a){t.$set(t.applicationInfo,"mac",a)},expression:"applicationInfo.mac"}})],1),e("FormItem",{attrs:{label:"应用名称:","label-width":70}},[e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入应用名称..."},model:{value:t.applicationSearch.appName,callback:function(a){t.$set(t.applicationSearch,"appName",a)},expression:"applicationSearch.appName"}})],1),e("FormItem",{attrs:{label:"应用状态:","label-width":70}},[e("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择应用状态..."},model:{value:t.applicationSearch.status,callback:function(a){t.$set(t.applicationSearch,"status",a)},expression:"applicationSearch.status"}},[e("Option",{attrs:{value:""}},[t._v("全部")]),e("Option",{attrs:{value:0}},[t._v("禁用")]),e("Option",{attrs:{value:1}},[t._v("使用")])],1)],1),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:t.applicationQuery}},[t._v("搜索")])],1)],1)],1),e("div",[e("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}})],1),e("div",{staticClass:"layout-studydevice-page"},[e("Page",{attrs:{total:t.total1,current:t.page1,"page-size":t.pageSize1,"show-elevator":""},on:{"on-change":t.changePage1}})],1),e("div",{staticStyle:{"margin-top":"40px"}})])],1)},n=[],s=(e("ac6a"),e("386d"),e("cadf"),e("551c"),e("097d"),e("c1df")),l={data:function(){var t=this;return{search:{nickname:"",mac:"",sn:"",userId:""},options1:[],loading1:!1,timer:[],total:0,page:1,pageSize:30,news:{},modalInfo:!1,applicationSearch:{status:"",appName:""},total1:0,page1:1,pageSize1:30,mac:"",applicationInfo:{},modalApplication:!1,columns1:[{type:"index",width:70,align:"center",title:"序号"},{title:"mac",key:"mac",align:"center"},{title:"UID",key:"id",align:"center"},{title:"整机sn",key:"sn",align:"center"},{title:"微信头像",key:"avatarUrl",align:"center",render:function(t,a){return t("div",[t("img",{attrs:{src:a.row.avatarUrl},style:{width:"50px",height:"50px",marginTop:"5px"}})])}},{title:"微信名称",key:"userId",align:"center"},{title:"绑定时间",key:"is_bindTime",align:"center"},{title:"操作",width:260,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.info(e.row)}}},"详情"),a("Poptip",{props:{confirm:!0,title:"确定要解绑吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){t.untying(e.row)}}},[a("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"}},"解绑")]),a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.application(e.row)}}},"应用管理")])}}],data1:[],columns2:[{type:"index",width:70,align:"center",title:"序号"},{title:"应用名称",key:"appName",align:"center"},{title:"应用状态",key:"is_status",align:"center"},{title:"最后更新时间",key:"updateTime",align:"center"}],data2:[],list:[]}},methods:{getTabelList:function(){var t=this,a=s(this.timer[0]).format("X"),e=s(this.timer[1]).format("X");this.$http.get(this.$config.BaseURL13+"/admin/api/v1/studydevice/list?page="+this.page+"&pageSize="+this.pageSize+"&nickname="+this.search.nickname+"&mac="+this.search.mac+"&sn="+this.search.sn+"&startBindTime="+a+"&endBindTime="+e).then(function(a){1e4==a.data.errno&&(t.data1=a.data.data.list,a.data.data.list.forEach(function(t){t.is_bindTime=s(1e3*t.bindTime).format("YYYY-MM-DD HH:mm:ss")}),t.total=a.data.data.total)})},query:function(){this.page=1,this.getTabelList()},changePage:function(t){this.page=t,this.getTabelList()},info:function(t){0==t.bindTime?t.bindTime="":t.is_bindTime=s(1e3*t.bindTime).format("YYYY-MM-DD HH:mm:ss"),this.news=t,this.modalInfo=!0},untying:function(t){var a=this;console.log(t),this.$http.get(this.$config.BaseURL13+"/admin/api/v1/studydevice/unbind?mac="+t.mac).then(function(t){1e4==t.data.errno&&(a.getTabelList(),a.$Message.success("解绑成功！"))})},application:function(t){this.applicationInfo=t,this.modalApplication=!0,this.mac=t.mac,this.getapplicationTableList()},getapplicationTableList:function(){var t=this;void 0==this.applicationSearch.status&&(this.applicationSearch.status=""),this.$http.get(this.$config.BaseURL13+"/admin/api/v1/studydevice/applist?page="+this.page1+"&pageSize="+this.pageSize1+"&mac="+this.mac+"&appName="+this.applicationSearch.appName+"&status="+this.applicationSearch.status).then(function(a){1e4==a.data.errno&&(t.data2=a.data.data.list,a.data.data.list.forEach(function(t){0==t.status?t.is_status="未禁用":1==t.status&&(t.is_status="禁用")}),t.total1=a.data.data.total)})},applicationQuery:function(){this.page1=1,this.getapplicationTableList()},changePage1:function(t){this.page1=t,this.getapplicationTableList()},remoteMethod1:function(t){var a=this;this.$http.get(this.$config.BaseURL10+"/customer/user/list?nickname="+t).then(function(t){1e4==t.data.errno&&(a.options1=t.data.data.list)})}},mounted:function(){this.getTabelList()}},o=l,c=(e("3e90"),e("2877")),r=Object(c["a"])(o,i,n,!1,null,null,null);r.options.__file="studydevice.vue";a["default"]=r.exports}}]);