(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e34"],{"16ff":function(t,e,a){},"386d":function(t,e,a){a("214f")("search",1,function(t,e,a){return[function(a){"use strict";var i=t(this),l=void 0==a?void 0:a[e];return void 0!==l?l.call(a,i):new RegExp(a)[e](String(i))},a]})},a481:function(t,e,a){a("214f")("replace",2,function(t,e,a){return[function(i,l){"use strict";var r=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,r,l):a.call(String(r),i,l)},a]})},c449:function(t,e,a){"use strict";var i=a("16ff"),l=a.n(i);l.a},da91:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-polymer"},[a("div",{staticClass:"layout-polymer-search"},[a("Form",{attrs:{model:t.search,inline:""}},[a("FormItem",{attrs:{label:"节目集名称:","label-width":80}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入节目集名称..."},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("FormItem",{attrs:{label:"创建时间:","label-width":70}},[a("DatePicker",{staticStyle:{width:"292px"},attrs:{type:"datetimerange",placement:"bottom-end",placeholder:"请选择创建时间..."},model:{value:t.timer,callback:function(e){t.timer=e},expression:"timer"}})],1),a("FormItem",{attrs:{label:"分类:","label-width":50}},[a("Select",{staticStyle:{width:"200px"},model:{value:t.search.category_id,callback:function(e){t.$set(t.search,"category_id",e)},expression:"search.category_id"}},t._l(t.cityList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("FormItem",{attrs:{label:"导演:","label-width":50}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入导演..."},model:{value:t.search.director,callback:function(e){t.$set(t.search,"director",e)},expression:"search.director"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-polymer-table"},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),a("div",{staticClass:"layout-polymer-page"},[a("Page",{attrs:{total:t.total,current:t.page,"page-size":t.pageSize,"show-elevator":""},on:{"on-change":t.changePage}})],1),a("div",{staticClass:"layout-polymer-edit"},[a("Modal",{attrs:{title:"修改",width:"1200"},model:{value:t.modalEdit,callback:function(e){t.modalEdit=e},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:function(e){t.modalEdit=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:t.editOk}},[t._v("确定")])],1),a("div",[a("div",[a("h3",[t._v("成品媒资节目集信息")]),a("div",{staticStyle:{"margin-top":"10px"}}),a("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("h3",[t._v("第三方节目集信息")]),a("div",{staticStyle:{"margin-top":"10px"}}),a("Table",{attrs:{border:"",columns:t.columns3,data:t.data3}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("p",[t._v("带聚合原因:"+t._s(t.news.ISpolymer_type))]),a("p",[a("span",[t._v("\n                            处理结果:\n                        ")]),a("span",[a("RadioGroup",{model:{value:t.editNews.polystate,callback:function(e){t.$set(t.editNews,"polystate",e)},expression:"editNews.polystate"}},[0!=t.editNews.media_id?a("Radio",{attrs:{label:1}},[t._v("聚合")]):t._e(),a("Radio",{attrs:{label:2}},[t._v("不聚合")]),a("Radio",{attrs:{label:4}},[t._v("与其他节目聚合")])],1)],1)]),a("p",[a("Form",{attrs:{model:t.edit,"label-position":"right",inline:""}},[a("FormItem",{attrs:{"label-width":0}},[a("Input",{model:{value:t.edit.title,callback:function(e){t.$set(t.edit,"title",e)},expression:"edit.title"}})],1),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.modalDetails=!0}}},[t._v("查看节目集")])],1),a("Modal",{attrs:{title:"查看节目集",width:"1000"},model:{value:t.modalDetails,callback:function(e){t.modalDetails=e},expression:"modalDetails"}},[a("Form",{attrs:{model:t.search1,inline:""}},[a("FormItem",{attrs:{label:"节目集名称:","label-width":80}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入节目集名称..."},model:{value:t.search1.title,callback:function(e){t.$set(t.search1,"title",e)},expression:"search1.title"}})],1),a("FormItem",{attrs:{label:"导演:","label-width":50}},[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入导演..."},model:{value:t.search1.directors,callback:function(e){t.$set(t.search1,"directors",e)},expression:"search1.directors"}})],1),a("FormItem",{attrs:{label:"分类:","label-width":50}},[a("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择分类"},model:{value:t.search1.categoryId,callback:function(e){t.$set(t.search1,"categoryId",e)},expression:"search1.categoryId"}},t._l(t.cityList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.query1}},[t._v("搜索")])],1)],1),a("Table",{attrs:{border:"",columns:t.columns4,data:t.data4},on:{"on-row-click":t.qqq}})],1)],1),a("p",[a("Form",{attrs:{model:t.editNews,"label-position":"right",inline:""}},[a("FormItem",{attrs:{label:"处理意见:","label-width":65}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入处理意见..."},model:{value:t.editNews.opinion,callback:function(e){t.$set(t.editNews,"opinion",e)},expression:"editNews.opinion"}})],1)],1)],1)])])])],1)])},l=[],r=(a("a481"),a("ac6a"),a("386d"),a("7f7f"),a("c1df")),o={data:function(){var t=this;return{search:{name:"",category_id:"",director:"",create_startTime:"",create_endTime:""},search1:{title:"",directors:"",categoryId:""},news:"",polystate:!1,timer:[],cityList:[],edit:{},edit1:{},modalEdit:!1,modalDetails:!1,total:0,page:1,pageSize:30,editNews:{},columns1:[{title:"节目集ID",key:"id",align:"center"},{title:"节目集名称",key:"title",align:"center"},{title:"分类",key:"category_name",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"聚合CP",key:"cp_name",align:"center"},{title:"待聚合原因",key:"ISpolymer_type",align:"center"},{title:"处理结果",key:"ISpolystate",align:"center"},{title:"创建时间",key:"Iscreate_time",align:"center",width:180},{title:"操作",width:200,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.modify(a.row)}}},"修改")])}}],data1:[],columns2:[{title:"节目集名称",key:"title",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"年代",key:"release_year",align:"center"},{title:"地区",key:"region",align:"center"},{title:"主演",key:"main_actors",align:"center"}],data2:[],columns3:[{title:"节目集名称",key:"title",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"年代",key:"publish_year",align:"center"},{title:"CP名称",key:"cp_name",align:"center"},{title:"地区",key:"region",align:"center"},{title:"主演",key:"actors",align:"center"}],data3:[],columns4:[{title:"节目集ID",key:"id",align:"center"},{title:"节目集名称",key:"title",align:"center"},{title:"分类",key:"category_name",align:"center"},{title:"导演",key:"directors",align:"center"},{title:"主演",key:"main_actors",align:"center"},{title:"上映时间",key:"address",align:"center"}],data4:[]}},methods:{getTableList:function(){var t=this,e=this,a=r(e.timer[0]).format("X"),i=r(e.timer[1]).format("X");isNaN(a)&&(a=""),isNaN(i)&&(i=""),e.$http(this.$config.BaseURL7+"/media/v2/polymer/list?name="+e.search.name+"&category_id="+e.search.category_id+"&director="+e.search.director+"&create_startTime="+a+"&create_endTime="+i+"&page="+this.page+"&pageSize="+this.pageSize).then(function(a){1e4==a.data.errno&&(console.log(a),e.data1=a.data.data.list,t.total=a.data.data.total,a.data.data.list.forEach(function(t){1==t.polymer_type?t.ISpolymer_type="导演不匹配":2==t.polymer_type&&(t.ISpolymer_type="年代不匹配"),1==t.polystate?t.ISpolystate="聚合":2==t.polystate?t.ISpolystate="不聚合":3==t.polystate&&(t.ISpolystate="待处理"),t.Iscreate_time=r(t.create_time).format("YYYY-MM-DD HH:mm:ss")}))},function(t){})},getTableList1:function(){var t=this;t.$http(this.$config.BaseURL1+"/media/v2/complete/program/list?title="+t.search1.title+"&directors="+t.search1.directors+"&categoryId="+t.search1.categoryId).then(function(e){1e4==e.data.errno&&(t.data4=e.data.data.list)},function(t){})},getSelectList:function(){var t=this;t.$http(this.$config.BaseURL1+"/media/v2/category/list").then(function(e){1e4==e.data.errno&&(t.cityList=e.data.data.list)},function(t){})},query:function(){this.page=1,this.getTableList()},query1:function(){this.getTableList1()},modify:function(t){var e=this;this.getTableList1(),this.news=t,this.editNews=t,console.log(this.editNews),console.log(this.news.media_id),1==t.polymer_type?t.ISpolymer_type="导演不匹配":2==t.polymer_type&&(t.ISpolymer_type="年代不匹配"),e.$http(this.$config.BaseURL7+"/media/v2/polymer/list?source_id="+t.source_id).then(function(t){1e4==t.data.errno&&(console.log(t),e.data3=t.data.data.list)}),e.$http(this.$config.BaseURL1+"/media/v2/complete/program/list?id="+t.media_id).then(function(a){if(1e4==a.data.errno){if(0==t.media_id)return void(e.data2=[]);console.log(a),e.data2=a.data.data.list,console.log(e.data2)}}),this.modalEdit=!0},editOk:function(){var t=this,e=this;e.editNews.create_time=e.editNews.create_time.replace(" ","T")+"Z",e.editNews.update_time=e.editNews.update_time.replace(" ","T")+"Z",e.$http.post(this.$config.BaseURL7+"/media/v2/polymer/modify",e.editNews).then(function(e){console.log(e),1e4==e.data.errno&&(t.modalEdit=!1,t.getTableList())})},changePage:function(t){this.page=t,this.getTableList()},qqq:function(t){this.edit=t,console.log(this.edit.title),console.log(t),this.modalDetails=!1}},mounted:function(){this.getTableList(),this.getSelectList()}},s=o,n=(a("c449"),a("2877")),c=Object(n["a"])(s,i,l,!1,null,null,null);c.options.__file="polymer.vue";e["default"]=c.exports}}]);