(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36d8"],{"386d":function(e,t,a){a("214f")("search",1,function(e,t,a){return[function(a){"use strict";var s=e(this),l=void 0==a?void 0:a[t];return void 0!==l?l.call(a,s):new RegExp(a)[t](String(s))},a]})},c21f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-user"},[a("div",{staticClass:"layout-user-search"},[a("Form",{attrs:{model:e.search,"label-position":"right",inline:""}},[a("FormItem",{attrs:{label:"用户名","label-width":50}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名..."},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}})],1),a("FormItem",{attrs:{label:"邮箱:","label-width":50}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入邮箱..."},model:{value:e.search.email,callback:function(t){e.$set(e.search,"email",t)},expression:"search.email"}})],1),a("FormItem",{attrs:{label:"电话:","label-width":50}},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入电话..."},model:{value:e.search.tel,callback:function(t){e.$set(e.search,"tel",t)},expression:"search.tel"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("搜索")])],1)],1)],1),a("div",{staticClass:"layout-user-add"},[a("Button",{attrs:{type:"success"},on:{click:function(t){e.modalAdd=!0}}},[e._v("添加")]),a("Modal",{attrs:{title:"添加"},model:{value:e.modalAdd,callback:function(t){e.modalAdd=t},expression:"modalAdd"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:e.addCancel}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.addOk}},[e._v("确定")])],1),a("Form",{ref:"info",attrs:{model:e.info,"label-position":"right",rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"用户名:",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入用户名..."},model:{value:e.info.username,callback:function(t){e.$set(e.info,"username",t)},expression:"info.username"}})],1),a("FormItem",{attrs:{label:"密码:",prop:"passwd"}},[a("Input",{attrs:{placeholder:"请输入密码...",type:"password"},model:{value:e.info.passwd,callback:function(t){e.$set(e.info,"passwd",t)},expression:"info.passwd"}})],1),a("FormItem",{attrs:{label:"邮箱:",prop:"email"}},[a("Input",{attrs:{placeholder:"请输入邮箱..."},model:{value:e.info.email,callback:function(t){e.$set(e.info,"email",t)},expression:"info.email"}})],1),a("FormItem",{attrs:{label:"真实姓名:",prop:"realname"}},[a("Input",{attrs:{placeholder:"请输入真实姓名..."},model:{value:e.info.realname,callback:function(t){e.$set(e.info,"realname",t)},expression:"info.realname"}})],1),a("FormItem",{attrs:{label:"电话:",prop:"tel"}},[a("Input",{attrs:{placeholder:"请输入电话..."},model:{value:e.info.tel,callback:function(t){e.$set(e.info,"tel",t)},expression:"info.tel"}})],1),a("FormItem",{attrs:{label:"附加信息:",prop:"extra"}},[a("Input",{attrs:{placeholder:"请输入附加信息..."},model:{value:e.info.extra,callback:function(t){e.$set(e.info,"extra",t)},expression:"info.extra"}})],1)],1)],1)],1),a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"layout-user-table"},[a("Table",{attrs:{border:"",columns:e.columns1,data:e.data1}})],1),a("div",{staticClass:"layout-user-page"},[a("Page",{attrs:{total:e.total,"page-size":e.pageSize,"show-elevator":""},on:{"on-change":e.changePage}})],1),a("Modal",{attrs:{title:"修改"},model:{value:e.modalEdit,callback:function(t){e.modalEdit=t},expression:"modalEdit"}},[a("div",{attrs:{slot:"footer"},slot:"footer"},[a("a",{staticClass:"span",on:{click:function(t){e.modalEdit=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.editOk}},[e._v("确定")])],1),a("Form",{ref:"edit",attrs:{model:e.edit,"label-position":"right",rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"用户名:",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入用户名..."},model:{value:e.edit.username,callback:function(t){e.$set(e.edit,"username",t)},expression:"edit.username"}})],1),a("FormItem",{attrs:{label:"密码:",prop:"passwd"}},[a("Input",{attrs:{placeholder:"请输入密码...",type:"password"},model:{value:e.edit.passwd,callback:function(t){e.$set(e.edit,"passwd",t)},expression:"edit.passwd"}})],1),a("FormItem",{attrs:{label:"邮箱:",prop:"email"}},[a("Input",{attrs:{placeholder:"请输入邮箱..."},model:{value:e.edit.email,callback:function(t){e.$set(e.edit,"email",t)},expression:"edit.email"}})],1),a("FormItem",{attrs:{label:"真实姓名:",prop:"realname"}},[a("Input",{attrs:{placeholder:"请输入真实姓名..."},model:{value:e.edit.realname,callback:function(t){e.$set(e.edit,"realname",t)},expression:"edit.realname"}})],1),a("FormItem",{attrs:{label:"电话:",prop:"tel"}},[a("Input",{attrs:{placeholder:"请输入电话..."},model:{value:e.edit.tel,callback:function(t){e.$set(e.edit,"tel",t)},expression:"edit.tel"}})],1),a("FormItem",{attrs:{label:"附加信息:",prop:"extra"}},[a("Input",{attrs:{placeholder:"请输入附加信息..."},model:{value:e.edit.extra,callback:function(t){e.$set(e.edit,"extra",t)},expression:"edit.extra"}})],1)],1)],1)],1)},l=[],i=(a("ac6a"),a("386d"),{data:function(){var e=this;return{search:{username:"",email:"",realname:"",tel:"",extra:""},info:{},modalAdd:!1,edit:{username:"",passwd:"",email:"",realname:"",tel:"",extra:""},modalEdit:!1,pageSize:30,total:0,page:1,id:[],ruleValidate:{username:[{required:!0,message:"请输入用户名...",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱...",trigger:"blur"}],realname:[{required:!0,message:"请输入真实姓名...",trigger:"blur"}]},columns1:[{type:"index",width:70,title:"序号",align:"center"},{title:"用户名",key:"username",align:"center"},{title:"真实姓名",key:"realname",align:"center"},{title:"状态",key:"Isstatus",align:"center",width:150},{title:"邮箱",key:"email",align:"center"},{title:"电话",key:"tel",align:"center"},{title:"创建时间",key:"ctime",align:"center"},{title:"附加信息",key:"extra",align:"center"},{title:"操作",width:260,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.modify(a.row)}}},"修改"),t("Poptip",{props:{confirm:!0,title:"确定要禁用吗！",type:"warning",size:"small",width:"150"},style:{marginRight:"5px"},on:{"on-ok":function(){e.disable(a.row)}}},[t("Button",{props:{type:"warning",size:"small"}},0==a.row.status?"启用":"禁用")]),t("Poptip",{props:{confirm:!0,title:"确定要删除吗！",type:"error",size:"small",width:"150"},on:{"on-ok":function(){e.remove(a.index)}}},[t("Button",{props:{type:"error",size:"small"}},"删除")])])}}],data1:[]}},methods:{getTableList:function(){var e=this,t=this;t.$http(this.$config.BaseURL5+"/cmsuser/list?page="+t.page+"&pageSize="+t.pageSize+"&username="+t.search.username+"&email="+t.search.email+"&tel="+t.search.tel).then(function(a){1e4==a.data.errno&&(console.log(a),e.data1=a.data.data.list,a.data.data.list.forEach(function(e){1==e.status?e.Isstatus="启用":0==e.status&&(e.Isstatus="禁用")}),t.total=a.data.data.total)},function(e){})},query:function(){this.getTableList()},addOk:function(){var e=this,t=this,a=!0;t.$refs["info"].validate(function(t){0==t&&(e.$Message.error("表单输入有误,请检查!"),a=!1)}),0!=a&&t.$http.post(this.$config.BaseURL5+"/login/register",t.info).then(function(t){console.log(t),1e4==t.data.errno&&(e.info={},e.getTableList(),e.modalAdd=!1,e.$Message.success("添加成功!"))},function(e){})},addCancel:function(){this.modalAdd=!1,this.edit={}},modify:function(e){this.modalEdit=!0,this.edit=e,this.id=e.id},editOk:function(){var e=this,t=this,a=!0;t.$refs["edit"].validate(function(t){0==t&&(e.$Message.error("表单输入有误,请检查!"),a=!1)}),0!=a&&t.$http.post(this.$config.BaseURL5+"/cmsuser/save?id="+this.id,t.edit).then(function(a){console.log(t.edit),1e4==a.data.errno&&(e.getTableList(),e.modalEdit=!1,e.$Message.success("修改成功!"))},function(e){})},disable:function(e){var t=this;console.log(e);var a=this;0==e.status?e.status=1:e.status=0,a.$http(this.$config.BaseURL5+"/cmsuser/disable?id="+e.id+"&status="+e.status).then(function(e){console.log(e),t.getTableList()},function(e){})},remove:function(e){var t=this,a=this;a.$http(this.$config.BaseURL5+"/cmsuser/delete?id="+this.data1[e].id).then(function(e){1e4==e.data.errno&&(t.getTableList(),t.$Message.success("删除成功!"))},function(e){})},changePage:function(e){this.page=e,this.getTableList()}},mounted:function(){this.getTableList()}}),r=i,n=(a("f2b9"),a("2877")),o=Object(n["a"])(r,s,l,!1,null,null,null);o.options.__file="user.vue";t["default"]=o.exports},c4ef:function(e,t,a){},f2b9:function(e,t,a){"use strict";var s=a("c4ef"),l=a.n(s);l.a}}]);